(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function nm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qc={exports:{}},jr={},Xc={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),tm=Symbol.for("react.portal"),om=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),sm=Symbol.for("react.provider"),lm=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),cm=Symbol.for("react.memo"),dm=Symbol.for("react.lazy"),uu=Symbol.iterator;function fm(n){return n===null||typeof n!="object"?null:(n=uu&&n[uu]||n["@@iterator"],typeof n=="function"?n:null)}var bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zc=Object.assign,jc={};function Ht(n,e,t){this.props=n,this.context=e,this.refs=jc,this.updater=t||bc}Ht.prototype.isReactComponent={};Ht.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ht.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ed(){}ed.prototype=Ht.prototype;function rl(n,e,t){this.props=n,this.context=e,this.refs=jc,this.updater=t||bc}var il=rl.prototype=new ed;il.constructor=rl;Zc(il,Ht.prototype);il.isPureReactComponent=!0;var au=Array.isArray,nd=Object.prototype.hasOwnProperty,sl={current:null},td={key:!0,ref:!0,__self:!0,__source:!0};function od(n,e,t){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)nd.call(e,o)&&!td.hasOwnProperty(o)&&(r[o]=e[o]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];r.children=c}if(n&&n.defaultProps)for(o in a=n.defaultProps,a)r[o]===void 0&&(r[o]=a[o]);return{$$typeof:Do,type:n,key:i,ref:l,props:r,_owner:sl.current}}function pm(n,e){return{$$typeof:Do,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ll(n){return typeof n=="object"&&n!==null&&n.$$typeof===Do}function mm(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cu=/\/+/g;function Ci(n,e){return typeof n=="object"&&n!==null&&n.key!=null?mm(""+n.key):e.toString(36)}function ar(n,e,t,o,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case Do:case tm:l=!0}}if(l)return l=n,r=r(l),n=o===""?"."+Ci(l,0):o,au(r)?(t="",n!=null&&(t=n.replace(cu,"$&/")+"/"),ar(r,e,t,"",function(d){return d})):r!=null&&(ll(r)&&(r=pm(r,t+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(cu,"$&/")+"/")+n)),e.push(r)),1;if(l=0,o=o===""?".":o+":",au(n))for(var a=0;a<n.length;a++){i=n[a];var c=o+Ci(i,a);l+=ar(i,e,t,c,r)}else if(c=fm(n),typeof c=="function")for(n=c.call(n),a=0;!(i=n.next()).done;)i=i.value,c=o+Ci(i,a++),l+=ar(i,e,t,c,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Bo(n,e,t){if(n==null)return n;var o=[],r=0;return ar(n,o,"","",function(i){return e.call(t,i,r++)}),o}function hm(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ie={current:null},cr={transition:null},gm={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:cr,ReactCurrentOwner:sl};function rd(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Bo,forEach:function(n,e,t){Bo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bo(n,function(){e++}),e},toArray:function(n){return Bo(n,function(e){return e})||[]},only:function(n){if(!ll(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};$.Component=Ht;$.Fragment=om;$.Profiler=im;$.PureComponent=rl;$.StrictMode=rm;$.Suspense=am;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gm;$.act=rd;$.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=Zc({},n.props),r=n.key,i=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=sl.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)nd.call(e,c)&&!td.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];o.children=a}return{$$typeof:Do,type:n.type,key:r,ref:i,props:o,_owner:l}};$.createContext=function(n){return n={$$typeof:lm,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:sm,_context:n},n.Consumer=n};$.createElement=od;$.createFactory=function(n){var e=od.bind(null,n);return e.type=n,e};$.createRef=function(){return{current:null}};$.forwardRef=function(n){return{$$typeof:um,render:n}};$.isValidElement=ll;$.lazy=function(n){return{$$typeof:dm,_payload:{_status:-1,_result:n},_init:hm}};$.memo=function(n,e){return{$$typeof:cm,type:n,compare:e===void 0?null:e}};$.startTransition=function(n){var e=cr.transition;cr.transition={};try{n()}finally{cr.transition=e}};$.unstable_act=rd;$.useCallback=function(n,e){return Ie.current.useCallback(n,e)};$.useContext=function(n){return Ie.current.useContext(n)};$.useDebugValue=function(){};$.useDeferredValue=function(n){return Ie.current.useDeferredValue(n)};$.useEffect=function(n,e){return Ie.current.useEffect(n,e)};$.useId=function(){return Ie.current.useId()};$.useImperativeHandle=function(n,e,t){return Ie.current.useImperativeHandle(n,e,t)};$.useInsertionEffect=function(n,e){return Ie.current.useInsertionEffect(n,e)};$.useLayoutEffect=function(n,e){return Ie.current.useLayoutEffect(n,e)};$.useMemo=function(n,e){return Ie.current.useMemo(n,e)};$.useReducer=function(n,e,t){return Ie.current.useReducer(n,e,t)};$.useRef=function(n){return Ie.current.useRef(n)};$.useState=function(n){return Ie.current.useState(n)};$.useSyncExternalStore=function(n,e,t){return Ie.current.useSyncExternalStore(n,e,t)};$.useTransition=function(){return Ie.current.useTransition()};$.version="18.3.1";Xc.exports=$;var K=Xc.exports;const ym=nm(K);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=K,Em=Symbol.for("react.element"),Sm=Symbol.for("react.fragment"),_m=Object.prototype.hasOwnProperty,Tm=vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cm={key:!0,ref:!0,__self:!0,__source:!0};function id(n,e,t){var o,r={},i=null,l=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)_m.call(e,o)&&!Cm.hasOwnProperty(o)&&(r[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:Em,type:n,key:i,ref:l,props:r,_owner:Tm.current}}jr.Fragment=Sm;jr.jsx=id;jr.jsxs=id;Qc.exports=jr;var _=Qc.exports,bi={},sd={exports:{}},Fe={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,U){var V=k.length;k.push(U);e:for(;0<V;){var oe=V-1>>>1,ue=k[oe];if(0<r(ue,U))k[oe]=U,k[V]=ue,V=oe;else break e}}function t(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var U=k[0],V=k.pop();if(V!==U){k[0]=V;e:for(var oe=0,ue=k.length,Ho=ue>>>1;oe<Ho;){var zn=2*(oe+1)-1,Ti=k[zn],Jn=zn+1,qo=k[Jn];if(0>r(Ti,V))Jn<ue&&0>r(qo,Ti)?(k[oe]=qo,k[Jn]=V,oe=Jn):(k[oe]=Ti,k[zn]=V,oe=zn);else if(Jn<ue&&0>r(qo,V))k[oe]=qo,k[Jn]=V,oe=Jn;else break e}}return U}function r(k,U){var V=k.sortIndex-U.sortIndex;return V!==0?V:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();n.unstable_now=function(){return l.now()-a}}var c=[],d=[],f=1,m=null,p=3,h=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var U=t(d);U!==null;){if(U.callback===null)o(d);else if(U.startTime<=k)o(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=t(d)}}function C(k){if(S=!1,v(k),!E)if(t(c)!==null)E=!0,q(w);else{var U=t(d);U!==null&&Se(C,U.startTime-k)}}function w(k,U){E=!1,S&&(S=!1,y(x),x=-1),h=!0;var V=p;try{for(v(U),m=t(c);m!==null&&(!(m.expirationTime>U)||k&&!G());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,p=m.priorityLevel;var ue=oe(m.expirationTime<=U);U=n.unstable_now(),typeof ue=="function"?m.callback=ue:m===t(c)&&o(c),v(U)}else o(c);m=t(c)}if(m!==null)var Ho=!0;else{var zn=t(d);zn!==null&&Se(C,zn.startTime-U),Ho=!1}return Ho}finally{m=null,p=V,h=!1}}var A=!1,I=null,x=-1,R=5,P=-1;function G(){return!(n.unstable_now()-P<R)}function z(){if(I!==null){var k=n.unstable_now();P=k;var U=!0;try{U=I(!0,k)}finally{U?H():(A=!1,I=null)}}else A=!1}var H;if(typeof g=="function")H=function(){g(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=z,H=function(){B.postMessage(null)}}else H=function(){T(z,0)};function q(k){I=k,A||(A=!0,H())}function Se(k,U){x=T(function(){k(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){E||h||(E=!0,q(w))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return U()}finally{p=V}},n.unstable_scheduleCallback=function(k,U,V){var oe=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?oe+V:oe):V=oe,k){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=V+ue,k={id:f++,callback:U,priorityLevel:k,startTime:V,expirationTime:ue,sortIndex:-1},V>oe?(k.sortIndex=V,e(d,k),t(c)===null&&k===t(d)&&(S?(y(x),x=-1):S=!0,Se(C,V-oe))):(k.sortIndex=ue,e(c,k),E||h||(E=!0,q(w))),k},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(k){var U=p;return function(){var V=p;p=U;try{return k.apply(this,arguments)}finally{p=V}}}})(ud);ld.exports=ud;var wm=ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=K,Ue=wm;function N(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ad=new Set,go={};function it(n,e){kt(n,e),kt(n+"Capture",e)}function kt(n,e){for(go[n]=e,n=0;n<e.length;n++)ad.add(e[n])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=Object.prototype.hasOwnProperty,Am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,du={},fu={};function xm(n){return Zi.call(fu,n)?!0:Zi.call(du,n)?!1:Am.test(n)?fu[n]=!0:(du[n]=!0,!1)}function Rm(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Nm(n,e,t,o){if(e===null||typeof e>"u"||Rm(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(n,e,t,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){me[n]=new Ae(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];me[e]=new Ae(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){me[n]=new Ae(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){me[n]=new Ae(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){me[n]=new Ae(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){me[n]=new Ae(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){me[n]=new Ae(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){me[n]=new Ae(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){me[n]=new Ae(n,5,!1,n.toLowerCase(),null,!1,!1)});var ul=/[\-:]([a-z])/g;function al(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ul,al);me[e]=new Ae(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ul,al);me[e]=new Ae(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ul,al);me[e]=new Ae(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){me[n]=new Ae(n,1,!1,n.toLowerCase(),null,!1,!1)});me.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){me[n]=new Ae(n,1,!1,n.toLowerCase(),null,!0,!0)});function cl(n,e,t,o){var r=me.hasOwnProperty(e)?me[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nm(e,t,r,o)&&(t=null),o||r===null?xm(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,o=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var En=Im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),ct=Symbol.for("react.portal"),dt=Symbol.for("react.fragment"),dl=Symbol.for("react.strict_mode"),ji=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),es=Symbol.for("react.suspense"),ns=Symbol.for("react.suspense_list"),pl=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),fd=Symbol.for("react.offscreen"),pu=Symbol.iterator;function Ot(n){return n===null||typeof n!="object"?null:(n=pu&&n[pu]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,wi;function no(n){if(wi===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);wi=e&&e[1]||""}return`
`+wi+n}var Ii=!1;function Ai(n,e){if(!n||Ii)return"";Ii=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){o=d}n.call(e.prototype)}else{try{throw Error()}catch(d){o=d}n()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,a=i.length-1;1<=l&&0<=a&&r[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(r[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||r[l]!==i[a]){var c=`
`+r[l].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=l&&0<=a);break}}}finally{Ii=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?no(n):""}function Pm(n){switch(n.tag){case 5:return no(n.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return n=Ai(n.type,!1),n;case 11:return n=Ai(n.type.render,!1),n;case 1:return n=Ai(n.type,!0),n;default:return""}}function ts(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case dt:return"Fragment";case ct:return"Portal";case ji:return"Profiler";case dl:return"StrictMode";case es:return"Suspense";case ns:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case dd:return(n.displayName||"Context")+".Consumer";case cd:return(n._context.displayName||"Context")+".Provider";case fl:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pl:return e=n.displayName||null,e!==null?e:ts(n.type)||"Memo";case Cn:e=n._payload,n=n._init;try{return ts(n(e))}catch{}}return null}function Mm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ts(e);case 8:return e===dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pd(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function km(n){var e=pd(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function zo(n){n._valueTracker||(n._valueTracker=km(n))}function md(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=pd(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Cr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function os(n,e){var t=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function mu(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=Vn(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hd(n,e){e=e.checked,e!=null&&cl(n,"checked",e,!1)}function rs(n,e){hd(n,e);var t=Vn(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?is(n,e.type,t):e.hasOwnProperty("defaultValue")&&is(n,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hu(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function is(n,e,t){(e!=="number"||Cr(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var to=Array.isArray;function wt(n,e,t,o){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&o&&(n[t].defaultSelected=!0)}else{for(t=""+Vn(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,o&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function ss(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gu(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(N(92));if(to(t)){if(1<t.length)throw Error(N(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Vn(t)}}function gd(n,e){var t=Vn(e.value),o=Vn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function yu(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function yd(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ls(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?yd(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jo,vd=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function yo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dm=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(n){Dm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),so[e]=so[n]})});function Ed(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||so.hasOwnProperty(n)&&so[n]?(""+e).trim():e+"px"}function Sd(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=Ed(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,r):n[t]=r}}var Lm=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function us(n,e){if(e){if(Lm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function as(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=null;function ml(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ds=null,It=null,At=null;function vu(n){if(n=Fo(n)){if(typeof ds!="function")throw Error(N(280));var e=n.stateNode;e&&(e=ri(e),ds(n.stateNode,n.type,e))}}function _d(n){It?At?At.push(n):At=[n]:It=n}function Td(){if(It){var n=It,e=At;if(At=It=null,vu(n),e)for(n=0;n<e.length;n++)vu(e[n])}}function Cd(n,e){return n(e)}function wd(){}var xi=!1;function Id(n,e,t){if(xi)return n(e,t);xi=!0;try{return Cd(n,e,t)}finally{xi=!1,(It!==null||At!==null)&&(wd(),Td())}}function vo(n,e){var t=n.stateNode;if(t===null)return null;var o=ri(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(N(231,e,typeof t));return t}var fs=!1;if(mn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{fs=!1}function Um(n,e,t,o,r,i,l,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var lo=!1,wr=null,Ir=!1,ps=null,Fm={onError:function(n){lo=!0,wr=n}};function Vm(n,e,t,o,r,i,l,a,c){lo=!1,wr=null,Um.apply(Fm,arguments)}function Gm(n,e,t,o,r,i,l,a,c){if(Vm.apply(this,arguments),lo){if(lo){var d=wr;lo=!1,wr=null}else throw Error(N(198));Ir||(Ir=!0,ps=d)}}function st(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Ad(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Eu(n){if(st(n)!==n)throw Error(N(188))}function Hm(n){var e=n.alternate;if(!e){if(e=st(n),e===null)throw Error(N(188));return e!==n?null:n}for(var t=n,o=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return Eu(r),n;if(i===o)return Eu(r),e;i=i.sibling}throw Error(N(188))}if(t.return!==o.return)t=r,o=i;else{for(var l=!1,a=r.child;a;){if(a===t){l=!0,t=r,o=i;break}if(a===o){l=!0,o=r,t=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===t){l=!0,t=i,o=r;break}if(a===o){l=!0,o=i,t=r;break}a=a.sibling}if(!l)throw Error(N(189))}}if(t.alternate!==o)throw Error(N(190))}if(t.tag!==3)throw Error(N(188));return t.stateNode.current===t?n:e}function xd(n){return n=Hm(n),n!==null?Rd(n):null}function Rd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Rd(n);if(e!==null)return e;n=n.sibling}return null}var Nd=Ue.unstable_scheduleCallback,Su=Ue.unstable_cancelCallback,qm=Ue.unstable_shouldYield,Bm=Ue.unstable_requestPaint,re=Ue.unstable_now,$m=Ue.unstable_getCurrentPriorityLevel,hl=Ue.unstable_ImmediatePriority,Pd=Ue.unstable_UserBlockingPriority,Ar=Ue.unstable_NormalPriority,zm=Ue.unstable_LowPriority,Md=Ue.unstable_IdlePriority,ei=null,sn=null;function Jm(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Km,Om=Math.log,Wm=Math.LN2;function Km(n){return n>>>=0,n===0?32:31-(Om(n)/Wm|0)|0}var Oo=64,Wo=4194304;function oo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xr(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,r=n.suspendedLanes,i=n.pingedLanes,l=t&268435455;if(l!==0){var a=l&~r;a!==0?o=oo(a):(i&=l,i!==0&&(o=oo(i)))}else l=t&~r,l!==0?o=oo(l):i!==0&&(o=oo(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-Xe(e),r=1<<t,o|=n[t],e&=~r;return o}function Ym(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qm(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var l=31-Xe(i),a=1<<l,c=r[l];c===-1?(!(a&t)||a&o)&&(r[l]=Ym(a,e)):c<=e&&(n.expiredLanes|=a),i&=~a}}function ms(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function kd(){var n=Oo;return Oo<<=1,!(Oo&4194240)&&(Oo=64),n}function Ri(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Lo(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xe(e),n[e]=t}function Xm(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Xe(t),i=1<<r;e[r]=0,o[r]=-1,n[r]=-1,t&=~i}}function gl(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-Xe(t),r=1<<o;r&e|n[o]&e&&(n[o]|=e),t&=~r}}var W=0;function Dd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ld,yl,Ud,Fd,Vd,hs=!1,Ko=[],Nn=null,Pn=null,Mn=null,Eo=new Map,So=new Map,In=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(n,e){switch(n){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function Kt(n,e,t,o,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Fo(e),e!==null&&yl(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Zm(n,e,t,o,r){switch(e){case"focusin":return Nn=Kt(Nn,n,e,t,o,r),!0;case"dragenter":return Pn=Kt(Pn,n,e,t,o,r),!0;case"mouseover":return Mn=Kt(Mn,n,e,t,o,r),!0;case"pointerover":var i=r.pointerId;return Eo.set(i,Kt(Eo.get(i)||null,n,e,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,So.set(i,Kt(So.get(i)||null,n,e,t,o,r)),!0}return!1}function Gd(n){var e=Yn(n.target);if(e!==null){var t=st(e);if(t!==null){if(e=t.tag,e===13){if(e=Ad(t),e!==null){n.blockedOn=e,Vd(n.priority,function(){Ud(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dr(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gs(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);cs=o,t.target.dispatchEvent(o),cs=null}else return e=Fo(t),e!==null&&yl(e),n.blockedOn=t,!1;e.shift()}return!0}function Tu(n,e,t){dr(n)&&t.delete(e)}function jm(){hs=!1,Nn!==null&&dr(Nn)&&(Nn=null),Pn!==null&&dr(Pn)&&(Pn=null),Mn!==null&&dr(Mn)&&(Mn=null),Eo.forEach(Tu),So.forEach(Tu)}function Yt(n,e){n.blockedOn===e&&(n.blockedOn=null,hs||(hs=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,jm)))}function _o(n){function e(r){return Yt(r,n)}if(0<Ko.length){Yt(Ko[0],n);for(var t=1;t<Ko.length;t++){var o=Ko[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Nn!==null&&Yt(Nn,n),Pn!==null&&Yt(Pn,n),Mn!==null&&Yt(Mn,n),Eo.forEach(e),So.forEach(e),t=0;t<In.length;t++)o=In[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<In.length&&(t=In[0],t.blockedOn===null);)Gd(t),t.blockedOn===null&&In.shift()}var xt=En.ReactCurrentBatchConfig,Rr=!0;function eh(n,e,t,o){var r=W,i=xt.transition;xt.transition=null;try{W=1,vl(n,e,t,o)}finally{W=r,xt.transition=i}}function nh(n,e,t,o){var r=W,i=xt.transition;xt.transition=null;try{W=4,vl(n,e,t,o)}finally{W=r,xt.transition=i}}function vl(n,e,t,o){if(Rr){var r=gs(n,e,t,o);if(r===null)Gi(n,e,o,Nr,t),_u(n,o);else if(Zm(r,n,e,t,o))o.stopPropagation();else if(_u(n,o),e&4&&-1<bm.indexOf(n)){for(;r!==null;){var i=Fo(r);if(i!==null&&Ld(i),i=gs(n,e,t,o),i===null&&Gi(n,e,o,Nr,t),i===r)break;r=i}r!==null&&o.stopPropagation()}else Gi(n,e,o,null,t)}}var Nr=null;function gs(n,e,t,o){if(Nr=null,n=ml(o),n=Yn(n),n!==null)if(e=st(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Ad(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Nr=n,null}function Hd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($m()){case hl:return 1;case Pd:return 4;case Ar:case zm:return 16;case Md:return 536870912;default:return 16}default:return 16}}var xn=null,El=null,fr=null;function qd(){if(fr)return fr;var n,e=El,t=e.length,o,r="value"in xn?xn.value:xn.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var l=t-n;for(o=1;o<=l&&e[t-o]===r[i-o];o++);return fr=r.slice(n,1<o?1-o:void 0)}function pr(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Yo(){return!0}function Cu(){return!1}function Ve(n){function e(t,o,r,i,l){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yo:Cu,this.isPropagationStopped=Cu,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),e}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Ve(qt),Uo=ne({},qt,{view:0,detail:0}),th=Ve(Uo),Ni,Pi,Qt,ni=ne({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qt&&(Qt&&n.type==="mousemove"?(Ni=n.screenX-Qt.screenX,Pi=n.screenY-Qt.screenY):Pi=Ni=0,Qt=n),Ni)},movementY:function(n){return"movementY"in n?n.movementY:Pi}}),wu=Ve(ni),oh=ne({},ni,{dataTransfer:0}),rh=Ve(oh),ih=ne({},Uo,{relatedTarget:0}),Mi=Ve(ih),sh=ne({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=Ve(sh),uh=ne({},qt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ah=Ve(uh),ch=ne({},qt,{data:0}),Iu=Ve(ch),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=ph[n])?!!e[n]:!1}function _l(){return mh}var hh=ne({},Uo,{key:function(n){if(n.key){var e=dh[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(n){return n.type==="keypress"?pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gh=Ve(hh),yh=ne({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=Ve(yh),vh=ne({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),Eh=Ve(vh),Sh=ne({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_h=Ve(Sh),Th=ne({},ni,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ch=Ve(Th),wh=[9,13,27,32],Tl=mn&&"CompositionEvent"in window,uo=null;mn&&"documentMode"in document&&(uo=document.documentMode);var Ih=mn&&"TextEvent"in window&&!uo,Bd=mn&&(!Tl||uo&&8<uo&&11>=uo),xu=String.fromCharCode(32),Ru=!1;function $d(n,e){switch(n){case"keyup":return wh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ft=!1;function Ah(n,e){switch(n){case"compositionend":return zd(e);case"keypress":return e.which!==32?null:(Ru=!0,xu);case"textInput":return n=e.data,n===xu&&Ru?null:n;default:return null}}function xh(n,e){if(ft)return n==="compositionend"||!Tl&&$d(n,e)?(n=qd(),fr=El=xn=null,ft=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bd&&e.locale!=="ko"?null:e.data;default:return null}}var Rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Rh[n.type]:e==="textarea"}function Jd(n,e,t,o){_d(o),e=Pr(e,"onChange"),0<e.length&&(t=new Sl("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var ao=null,To=null;function Nh(n){nf(n,0)}function ti(n){var e=ht(n);if(md(e))return n}function Ph(n,e){if(n==="change")return e}var Od=!1;if(mn){var ki;if(mn){var Di="oninput"in document;if(!Di){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),Di=typeof Pu.oninput=="function"}ki=Di}else ki=!1;Od=ki&&(!document.documentMode||9<document.documentMode)}function Mu(){ao&&(ao.detachEvent("onpropertychange",Wd),To=ao=null)}function Wd(n){if(n.propertyName==="value"&&ti(To)){var e=[];Jd(e,To,n,ml(n)),Id(Nh,e)}}function Mh(n,e,t){n==="focusin"?(Mu(),ao=e,To=t,ao.attachEvent("onpropertychange",Wd)):n==="focusout"&&Mu()}function kh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ti(To)}function Dh(n,e){if(n==="click")return ti(e)}function Lh(n,e){if(n==="input"||n==="change")return ti(e)}function Uh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var en=typeof Object.is=="function"?Object.is:Uh;function Co(n,e){if(en(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!Zi.call(e,r)||!en(n[r],e[r]))return!1}return!0}function ku(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Du(n,e){var t=ku(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ku(t)}}function Kd(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Kd(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Yd(){for(var n=window,e=Cr();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Cr(n.document)}return e}function Cl(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Fh(n){var e=Yd(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Kd(t.ownerDocument.documentElement,t)){if(o!==null&&Cl(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!n.extend&&i>o&&(r=o,o=i,i=r),r=Du(t,i);var l=Du(t,o);r&&l&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>o?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Vh=mn&&"documentMode"in document&&11>=document.documentMode,pt=null,ys=null,co=null,vs=!1;function Lu(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;vs||pt==null||pt!==Cr(o)||(o=pt,"selectionStart"in o&&Cl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),co&&Co(co,o)||(co=o,o=Pr(ys,"onSelect"),0<o.length&&(e=new Sl("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=pt)))}function Qo(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var mt={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Li={},Qd={};mn&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete mt.animationend.animation,delete mt.animationiteration.animation,delete mt.animationstart.animation),"TransitionEvent"in window||delete mt.transitionend.transition);function oi(n){if(Li[n])return Li[n];if(!mt[n])return n;var e=mt[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Qd)return Li[n]=e[t];return n}var Xd=oi("animationend"),bd=oi("animationiteration"),Zd=oi("animationstart"),jd=oi("transitionend"),ef=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(n,e){ef.set(n,e),it(e,[n])}for(var Ui=0;Ui<Uu.length;Ui++){var Fi=Uu[Ui],Gh=Fi.toLowerCase(),Hh=Fi[0].toUpperCase()+Fi.slice(1);Hn(Gh,"on"+Hh)}Hn(Xd,"onAnimationEnd");Hn(bd,"onAnimationIteration");Hn(Zd,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(jd,"onTransitionEnd");kt("onMouseEnter",["mouseout","mouseover"]);kt("onMouseLeave",["mouseout","mouseover"]);kt("onPointerEnter",["pointerout","pointerover"]);kt("onPointerLeave",["pointerout","pointerover"]);it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));it("onBeforeInput",["compositionend","keypress","textInput","paste"]);it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function Fu(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,Gm(o,e,void 0,n),n.currentTarget=null}function nf(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var a=o[l],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&r.isPropagationStopped())break e;Fu(r,a,d),i=c}else for(l=0;l<o.length;l++){if(a=o[l],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&r.isPropagationStopped())break e;Fu(r,a,d),i=c}}}if(Ir)throw n=ps,Ir=!1,ps=null,n}function Q(n,e){var t=e[Cs];t===void 0&&(t=e[Cs]=new Set);var o=n+"__bubble";t.has(o)||(tf(e,n,2,!1),t.add(o))}function Vi(n,e,t){var o=0;e&&(o|=4),tf(t,n,o,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function wo(n){if(!n[Xo]){n[Xo]=!0,ad.forEach(function(t){t!=="selectionchange"&&(qh.has(t)||Vi(t,!1,n),Vi(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,Vi("selectionchange",!1,e))}}function tf(n,e,t,o){switch(Hd(e)){case 1:var r=eh;break;case 4:r=nh;break;default:r=vl}t=r.bind(null,e,t,n),r=void 0,!fs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Gi(n,e,t,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var a=o.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;a!==null;){if(l=Yn(a),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}a=a.parentNode}}o=o.return}Id(function(){var d=i,f=ml(t),m=[];e:{var p=ef.get(n);if(p!==void 0){var h=Sl,E=n;switch(n){case"keypress":if(pr(t)===0)break e;case"keydown":case"keyup":h=gh;break;case"focusin":E="focus",h=Mi;break;case"focusout":E="blur",h=Mi;break;case"beforeblur":case"afterblur":h=Mi;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Eh;break;case Xd:case bd:case Zd:h=lh;break;case jd:h=_h;break;case"scroll":h=th;break;case"wheel":h=Ch;break;case"copy":case"cut":case"paste":h=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Au}var S=(e&4)!==0,T=!S&&n==="scroll",y=S?p!==null?p+"Capture":null:p;S=[];for(var g=d,v;g!==null;){v=g;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,y!==null&&(C=vo(g,y),C!=null&&S.push(Io(g,C,v)))),T)break;g=g.return}0<S.length&&(p=new h(p,E,null,t,f),m.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",p&&t!==cs&&(E=t.relatedTarget||t.fromElement)&&(Yn(E)||E[hn]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=t.relatedTarget||t.toElement,h=d,E=E?Yn(E):null,E!==null&&(T=st(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=d),h!==E)){if(S=wu,C="onMouseLeave",y="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(S=Au,C="onPointerLeave",y="onPointerEnter",g="pointer"),T=h==null?p:ht(h),v=E==null?p:ht(E),p=new S(C,g+"leave",h,t,f),p.target=T,p.relatedTarget=v,C=null,Yn(f)===d&&(S=new S(y,g+"enter",E,t,f),S.target=v,S.relatedTarget=T,C=S),T=C,h&&E)n:{for(S=h,y=E,g=0,v=S;v;v=ut(v))g++;for(v=0,C=y;C;C=ut(C))v++;for(;0<g-v;)S=ut(S),g--;for(;0<v-g;)y=ut(y),v--;for(;g--;){if(S===y||y!==null&&S===y.alternate)break n;S=ut(S),y=ut(y)}S=null}else S=null;h!==null&&Vu(m,p,h,S,!1),E!==null&&T!==null&&Vu(m,T,E,S,!0)}}e:{if(p=d?ht(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=Ph;else if(Nu(p))if(Od)w=Lh;else{w=kh;var A=Mh}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Dh);if(w&&(w=w(n,d))){Jd(m,w,t,f);break e}A&&A(n,p,d),n==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&is(p,"number",p.value)}switch(A=d?ht(d):window,n){case"focusin":(Nu(A)||A.contentEditable==="true")&&(pt=A,ys=d,co=null);break;case"focusout":co=ys=pt=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,Lu(m,t,f);break;case"selectionchange":if(Vh)break;case"keydown":case"keyup":Lu(m,t,f)}var I;if(Tl)e:{switch(n){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ft?$d(n,t)&&(x="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(x="onCompositionStart");x&&(Bd&&t.locale!=="ko"&&(ft||x!=="onCompositionStart"?x==="onCompositionEnd"&&ft&&(I=qd()):(xn=f,El="value"in xn?xn.value:xn.textContent,ft=!0)),A=Pr(d,x),0<A.length&&(x=new Iu(x,n,null,t,f),m.push({event:x,listeners:A}),I?x.data=I:(I=zd(t),I!==null&&(x.data=I)))),(I=Ih?Ah(n,t):xh(n,t))&&(d=Pr(d,"onBeforeInput"),0<d.length&&(f=new Iu("onBeforeInput","beforeinput",null,t,f),m.push({event:f,listeners:d}),f.data=I))}nf(m,e)})}function Io(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Pr(n,e){for(var t=e+"Capture",o=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=vo(n,t),i!=null&&o.unshift(Io(n,i,r)),i=vo(n,e),i!=null&&o.push(Io(n,i,r))),n=n.return}return o}function ut(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Vu(n,e,t,o,r){for(var i=e._reactName,l=[];t!==null&&t!==o;){var a=t,c=a.alternate,d=a.stateNode;if(c!==null&&c===o)break;a.tag===5&&d!==null&&(a=d,r?(c=vo(t,i),c!=null&&l.unshift(Io(t,c,a))):r||(c=vo(t,i),c!=null&&l.push(Io(t,c,a)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}var Bh=/\r\n?/g,$h=/\u0000|\uFFFD/g;function Gu(n){return(typeof n=="string"?n:""+n).replace(Bh,`
`).replace($h,"")}function bo(n,e,t){if(e=Gu(e),Gu(n)!==e&&t)throw Error(N(425))}function Mr(){}var Es=null,Ss=null;function _s(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ts=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,Jh=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(n){return Hu.resolve(null).then(n).catch(Oh)}:Ts;function Oh(n){setTimeout(function(){throw n})}function Hi(n,e){var t=e,o=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){n.removeChild(r),_o(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);_o(e)}function kn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function qu(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Bt=Math.random().toString(36).slice(2),rn="__reactFiber$"+Bt,Ao="__reactProps$"+Bt,hn="__reactContainer$"+Bt,Cs="__reactEvents$"+Bt,Wh="__reactListeners$"+Bt,Kh="__reactHandles$"+Bt;function Yn(n){var e=n[rn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[hn]||t[rn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=qu(n);n!==null;){if(t=n[rn])return t;n=qu(n)}return e}n=t,t=n.parentNode}return null}function Fo(n){return n=n[rn]||n[hn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ht(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(N(33))}function ri(n){return n[Ao]||null}var ws=[],gt=-1;function qn(n){return{current:n}}function X(n){0>gt||(n.current=ws[gt],ws[gt]=null,gt--)}function Y(n,e){gt++,ws[gt]=n.current,n.current=e}var Gn={},Ee=qn(Gn),Ne=qn(!1),et=Gn;function Dt(n,e){var t=n.type.contextTypes;if(!t)return Gn;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Pe(n){return n=n.childContextTypes,n!=null}function kr(){X(Ne),X(Ee)}function Bu(n,e,t){if(Ee.current!==Gn)throw Error(N(168));Y(Ee,e),Y(Ne,t)}function of(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(N(108,Mm(n)||"Unknown",r));return ne({},t,o)}function Dr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gn,et=Ee.current,Y(Ee,n),Y(Ne,Ne.current),!0}function $u(n,e,t){var o=n.stateNode;if(!o)throw Error(N(169));t?(n=of(n,e,et),o.__reactInternalMemoizedMergedChildContext=n,X(Ne),X(Ee),Y(Ee,n)):X(Ne),Y(Ne,t)}var an=null,ii=!1,qi=!1;function rf(n){an===null?an=[n]:an.push(n)}function Yh(n){ii=!0,rf(n)}function Bn(){if(!qi&&an!==null){qi=!0;var n=0,e=W;try{var t=an;for(W=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}an=null,ii=!1}catch(r){throw an!==null&&(an=an.slice(n+1)),Nd(hl,Bn),r}finally{W=e,qi=!1}}return null}var yt=[],vt=0,Lr=null,Ur=0,Ge=[],He=0,nt=null,dn=1,fn="";function On(n,e){yt[vt++]=Ur,yt[vt++]=Lr,Lr=n,Ur=e}function sf(n,e,t){Ge[He++]=dn,Ge[He++]=fn,Ge[He++]=nt,nt=n;var o=dn;n=fn;var r=32-Xe(o)-1;o&=~(1<<r),t+=1;var i=32-Xe(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,dn=1<<32-Xe(e)+r|t<<r|o,fn=i+n}else dn=1<<i|t<<r|o,fn=n}function wl(n){n.return!==null&&(On(n,1),sf(n,1,0))}function Il(n){for(;n===Lr;)Lr=yt[--vt],yt[vt]=null,Ur=yt[--vt],yt[vt]=null;for(;n===nt;)nt=Ge[--He],Ge[He]=null,fn=Ge[--He],Ge[He]=null,dn=Ge[--He],Ge[He]=null}var Le=null,De=null,b=!1,Qe=null;function lf(n,e){var t=qe(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function zu(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Le=n,De=kn(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Le=n,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nt!==null?{id:dn,overflow:fn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=qe(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Le=n,De=null,!0):!1;default:return!1}}function Is(n){return(n.mode&1)!==0&&(n.flags&128)===0}function As(n){if(b){var e=De;if(e){var t=e;if(!zu(n,e)){if(Is(n))throw Error(N(418));e=kn(t.nextSibling);var o=Le;e&&zu(n,e)?lf(o,t):(n.flags=n.flags&-4097|2,b=!1,Le=n)}}else{if(Is(n))throw Error(N(418));n.flags=n.flags&-4097|2,b=!1,Le=n}}}function Ju(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Le=n}function Zo(n){if(n!==Le)return!1;if(!b)return Ju(n),b=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!_s(n.type,n.memoizedProps)),e&&(e=De)){if(Is(n))throw uf(),Error(N(418));for(;e;)lf(n,e),e=kn(e.nextSibling)}if(Ju(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(N(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){De=kn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}De=null}}else De=Le?kn(n.stateNode.nextSibling):null;return!0}function uf(){for(var n=De;n;)n=kn(n.nextSibling)}function Lt(){De=Le=null,b=!1}function Al(n){Qe===null?Qe=[n]:Qe.push(n)}var Qh=En.ReactCurrentBatchConfig;function Xt(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(N(309));var o=t.stateNode}if(!o)throw Error(N(147,n));var r=o,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=r.refs;l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof n!="string")throw Error(N(284));if(!t._owner)throw Error(N(290,n))}return n}function jo(n,e){throw n=Object.prototype.toString.call(e),Error(N(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ou(n){var e=n._init;return e(n._payload)}function af(n){function e(y,g){if(n){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function t(y,g){if(!n)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function o(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(y,g){return y=Fn(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,C){return g===null||g.tag!==6?(g=Ki(v,y.mode,C),g.return=y,g):(g=r(g,v),g.return=y,g)}function c(y,g,v,C){var w=v.type;return w===dt?f(y,g,v.props.children,C,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&Ou(w)===g.type)?(C=r(g,v.props),C.ref=Xt(y,g,v),C.return=y,C):(C=Sr(v.type,v.key,v.props,null,y.mode,C),C.ref=Xt(y,g,v),C.return=y,C)}function d(y,g,v,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Yi(v,y.mode,C),g.return=y,g):(g=r(g,v.children||[]),g.return=y,g)}function f(y,g,v,C,w){return g===null||g.tag!==7?(g=Zn(v,y.mode,C,w),g.return=y,g):(g=r(g,v),g.return=y,g)}function m(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ki(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:return v=Sr(g.type,g.key,g.props,null,y.mode,v),v.ref=Xt(y,null,g),v.return=y,v;case ct:return g=Yi(g,y.mode,v),g.return=y,g;case Cn:var C=g._init;return m(y,C(g._payload),v)}if(to(g)||Ot(g))return g=Zn(g,y.mode,v,null),g.return=y,g;jo(y,g)}return null}function p(y,g,v,C){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(y,g,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:return v.key===w?c(y,g,v,C):null;case ct:return v.key===w?d(y,g,v,C):null;case Cn:return w=v._init,p(y,g,w(v._payload),C)}if(to(v)||Ot(v))return w!==null?null:f(y,g,v,C,null);jo(y,v)}return null}function h(y,g,v,C,w){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(v)||null,a(g,y,""+C,w);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $o:return y=y.get(C.key===null?v:C.key)||null,c(g,y,C,w);case ct:return y=y.get(C.key===null?v:C.key)||null,d(g,y,C,w);case Cn:var A=C._init;return h(y,g,v,A(C._payload),w)}if(to(C)||Ot(C))return y=y.get(v)||null,f(g,y,C,w,null);jo(g,C)}return null}function E(y,g,v,C){for(var w=null,A=null,I=g,x=g=0,R=null;I!==null&&x<v.length;x++){I.index>x?(R=I,I=null):R=I.sibling;var P=p(y,I,v[x],C);if(P===null){I===null&&(I=R);break}n&&I&&P.alternate===null&&e(y,I),g=i(P,g,x),A===null?w=P:A.sibling=P,A=P,I=R}if(x===v.length)return t(y,I),b&&On(y,x),w;if(I===null){for(;x<v.length;x++)I=m(y,v[x],C),I!==null&&(g=i(I,g,x),A===null?w=I:A.sibling=I,A=I);return b&&On(y,x),w}for(I=o(y,I);x<v.length;x++)R=h(I,y,x,v[x],C),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?x:R.key),g=i(R,g,x),A===null?w=R:A.sibling=R,A=R);return n&&I.forEach(function(G){return e(y,G)}),b&&On(y,x),w}function S(y,g,v,C){var w=Ot(v);if(typeof w!="function")throw Error(N(150));if(v=w.call(v),v==null)throw Error(N(151));for(var A=w=null,I=g,x=g=0,R=null,P=v.next();I!==null&&!P.done;x++,P=v.next()){I.index>x?(R=I,I=null):R=I.sibling;var G=p(y,I,P.value,C);if(G===null){I===null&&(I=R);break}n&&I&&G.alternate===null&&e(y,I),g=i(G,g,x),A===null?w=G:A.sibling=G,A=G,I=R}if(P.done)return t(y,I),b&&On(y,x),w;if(I===null){for(;!P.done;x++,P=v.next())P=m(y,P.value,C),P!==null&&(g=i(P,g,x),A===null?w=P:A.sibling=P,A=P);return b&&On(y,x),w}for(I=o(y,I);!P.done;x++,P=v.next())P=h(I,y,x,P.value,C),P!==null&&(n&&P.alternate!==null&&I.delete(P.key===null?x:P.key),g=i(P,g,x),A===null?w=P:A.sibling=P,A=P);return n&&I.forEach(function(z){return e(y,z)}),b&&On(y,x),w}function T(y,g,v,C){if(typeof v=="object"&&v!==null&&v.type===dt&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:e:{for(var w=v.key,A=g;A!==null;){if(A.key===w){if(w=v.type,w===dt){if(A.tag===7){t(y,A.sibling),g=r(A,v.props.children),g.return=y,y=g;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&Ou(w)===A.type){t(y,A.sibling),g=r(A,v.props),g.ref=Xt(y,A,v),g.return=y,y=g;break e}t(y,A);break}else e(y,A);A=A.sibling}v.type===dt?(g=Zn(v.props.children,y.mode,C,v.key),g.return=y,y=g):(C=Sr(v.type,v.key,v.props,null,y.mode,C),C.ref=Xt(y,g,v),C.return=y,y=C)}return l(y);case ct:e:{for(A=v.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){t(y,g.sibling),g=r(g,v.children||[]),g.return=y,y=g;break e}else{t(y,g);break}else e(y,g);g=g.sibling}g=Yi(v,y.mode,C),g.return=y,y=g}return l(y);case Cn:return A=v._init,T(y,g,A(v._payload),C)}if(to(v))return E(y,g,v,C);if(Ot(v))return S(y,g,v,C);jo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(t(y,g.sibling),g=r(g,v),g.return=y,y=g):(t(y,g),g=Ki(v,y.mode,C),g.return=y,y=g),l(y)):t(y,g)}return T}var Ut=af(!0),cf=af(!1),Fr=qn(null),Vr=null,Et=null,xl=null;function Rl(){xl=Et=Vr=null}function Nl(n){var e=Fr.current;X(Fr),n._currentValue=e}function xs(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Rt(n,e){Vr=n,xl=Et=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Re=!0),n.firstContext=null)}function ze(n){var e=n._currentValue;if(xl!==n)if(n={context:n,memoizedValue:e,next:null},Et===null){if(Vr===null)throw Error(N(308));Et=n,Vr.dependencies={lanes:0,firstContext:n}}else Et=Et.next=n;return e}var Qn=null;function Pl(n){Qn===null?Qn=[n]:Qn.push(n)}function df(n,e,t,o){var r=e.interleaved;return r===null?(t.next=t,Pl(e)):(t.next=r.next,r.next=t),e.interleaved=t,gn(n,o)}function gn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wn=!1;function Ml(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ff(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,J&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,gn(n,t)}return r=o.interleaved,r===null?(e.next=e,Pl(o)):(e.next=r.next,r.next=e),o.interleaved=e,gn(n,t)}function mr(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,gl(n,t)}}function Wu(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=l:i=i.next=l,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gr(n,e,t,o){var r=n.updateQueue;wn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var c=a,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;l=0,f=d=c=null,a=i;do{var p=a.lane,h=a.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=n,S=a;switch(p=e,h=t,S.tag){case 1:if(E=S.payload,typeof E=="function"){m=E.call(h,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(h,m,p):E,p==null)break e;m=ne({},m,p);break e;case 2:wn=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,l|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ot|=l,n.lanes=l,n.memoizedState=m}}function Ku(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(N(191,r));r.call(o)}}}var Vo={},ln=qn(Vo),xo=qn(Vo),Ro=qn(Vo);function Xn(n){if(n===Vo)throw Error(N(174));return n}function kl(n,e){switch(Y(Ro,e),Y(xo,n),Y(ln,Vo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ls(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ls(e,n)}X(ln),Y(ln,e)}function Ft(){X(ln),X(xo),X(Ro)}function pf(n){Xn(Ro.current);var e=Xn(ln.current),t=ls(e,n.type);e!==t&&(Y(xo,n),Y(ln,t))}function Dl(n){xo.current===n&&(X(ln),X(xo))}var j=qn(0);function Hr(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bi=[];function Ll(){for(var n=0;n<Bi.length;n++)Bi[n]._workInProgressVersionPrimary=null;Bi.length=0}var hr=En.ReactCurrentDispatcher,$i=En.ReactCurrentBatchConfig,tt=0,ee=null,se=null,ae=null,qr=!1,fo=!1,No=0,Xh=0;function he(){throw Error(N(321))}function Ul(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!en(n[t],e[t]))return!1;return!0}function Fl(n,e,t,o,r,i){if(tt=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hr.current=n===null||n.memoizedState===null?eg:ng,n=t(o,r),fo){i=0;do{if(fo=!1,No=0,25<=i)throw Error(N(301));i+=1,ae=se=null,e.updateQueue=null,hr.current=tg,n=t(o,r)}while(fo)}if(hr.current=Br,e=se!==null&&se.next!==null,tt=0,ae=se=ee=null,qr=!1,e)throw Error(N(300));return n}function Vl(){var n=No!==0;return No=0,n}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?ee.memoizedState=ae=n:ae=ae.next=n,ae}function Je(){if(se===null){var n=ee.alternate;n=n!==null?n.memoizedState:null}else n=se.next;var e=ae===null?ee.memoizedState:ae.next;if(e!==null)ae=e,se=n;else{if(n===null)throw Error(N(310));se=n,n={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?ee.memoizedState=ae=n:ae=ae.next=n}return ae}function Po(n,e){return typeof e=="function"?e(n):e}function zi(n){var e=Je(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var o=se,r=o.baseQueue,i=t.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,o=o.baseState;var a=l=null,c=null,d=i;do{var f=d.lane;if((tt&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:n(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=m,l=o):c=c.next=m,ee.lanes|=f,ot|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=a,en(o,e.memoizedState)||(Re=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){r=n;do i=r.lane,ee.lanes|=i,ot|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Ji(n){var e=Je(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var o=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var l=r=r.next;do i=n(i,l.action),l=l.next;while(l!==r);en(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,o]}function mf(){}function hf(n,e){var t=ee,o=Je(),r=e(),i=!en(o.memoizedState,r);if(i&&(o.memoizedState=r,Re=!0),o=o.queue,Gl(vf.bind(null,t,o,n),[n]),o.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(t.flags|=2048,Mo(9,yf.bind(null,t,o,r,e),void 0,null),ce===null)throw Error(N(349));tt&30||gf(t,e,r)}return r}function gf(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function yf(n,e,t,o){e.value=t,e.getSnapshot=o,Ef(e)&&Sf(n)}function vf(n,e,t){return t(function(){Ef(e)&&Sf(n)})}function Ef(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!en(n,t)}catch{return!0}}function Sf(n){var e=gn(n,1);e!==null&&be(e,n,1,-1)}function Yu(n){var e=on();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:n},e.queue=n,n=n.dispatch=jh.bind(null,ee,n),[e.memoizedState,n]}function Mo(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function _f(){return Je().memoizedState}function gr(n,e,t,o){var r=on();ee.flags|=n,r.memoizedState=Mo(1|e,t,void 0,o===void 0?null:o)}function si(n,e,t,o){var r=Je();o=o===void 0?null:o;var i=void 0;if(se!==null){var l=se.memoizedState;if(i=l.destroy,o!==null&&Ul(o,l.deps)){r.memoizedState=Mo(e,t,i,o);return}}ee.flags|=n,r.memoizedState=Mo(1|e,t,i,o)}function Qu(n,e){return gr(8390656,8,n,e)}function Gl(n,e){return si(2048,8,n,e)}function Tf(n,e){return si(4,2,n,e)}function Cf(n,e){return si(4,4,n,e)}function wf(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function If(n,e,t){return t=t!=null?t.concat([n]):null,si(4,4,wf.bind(null,e,n),t)}function Hl(){}function Af(n,e){var t=Je();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&Ul(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function xf(n,e){var t=Je();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&Ul(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function Rf(n,e,t){return tt&21?(en(t,e)||(t=kd(),ee.lanes|=t,ot|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Re=!0),n.memoizedState=t)}function bh(n,e){var t=W;W=t!==0&&4>t?t:4,n(!0);var o=$i.transition;$i.transition={};try{n(!1),e()}finally{W=t,$i.transition=o}}function Nf(){return Je().memoizedState}function Zh(n,e,t){var o=Un(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},Pf(n))Mf(e,t);else if(t=df(n,e,t,o),t!==null){var r=Ce();be(t,n,o,r),kf(t,e,o)}}function jh(n,e,t){var o=Un(n),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(Pf(n))Mf(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,t);if(r.hasEagerState=!0,r.eagerState=a,en(a,l)){var c=e.interleaved;c===null?(r.next=r,Pl(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=df(n,e,r,o),t!==null&&(r=Ce(),be(t,n,o,r),kf(t,e,o))}}function Pf(n){var e=n.alternate;return n===ee||e!==null&&e===ee}function Mf(n,e){fo=qr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function kf(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,gl(n,t)}}var Br={readContext:ze,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},eg={readContext:ze,useCallback:function(n,e){return on().memoizedState=[n,e===void 0?null:e],n},useContext:ze,useEffect:Qu,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,gr(4194308,4,wf.bind(null,e,n),t)},useLayoutEffect:function(n,e){return gr(4194308,4,n,e)},useInsertionEffect:function(n,e){return gr(4,2,n,e)},useMemo:function(n,e){var t=on();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=on();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=Zh.bind(null,ee,n),[o.memoizedState,n]},useRef:function(n){var e=on();return n={current:n},e.memoizedState=n},useState:Yu,useDebugValue:Hl,useDeferredValue:function(n){return on().memoizedState=n},useTransition:function(){var n=Yu(!1),e=n[0];return n=bh.bind(null,n[1]),on().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=ee,r=on();if(b){if(t===void 0)throw Error(N(407));t=t()}else{if(t=e(),ce===null)throw Error(N(349));tt&30||gf(o,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,Qu(vf.bind(null,o,i,n),[n]),o.flags|=2048,Mo(9,yf.bind(null,o,i,t,e),void 0,null),t},useId:function(){var n=on(),e=ce.identifierPrefix;if(b){var t=fn,o=dn;t=(o&~(1<<32-Xe(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=No++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Xh++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ng={readContext:ze,useCallback:Af,useContext:ze,useEffect:Gl,useImperativeHandle:If,useInsertionEffect:Tf,useLayoutEffect:Cf,useMemo:xf,useReducer:zi,useRef:_f,useState:function(){return zi(Po)},useDebugValue:Hl,useDeferredValue:function(n){var e=Je();return Rf(e,se.memoizedState,n)},useTransition:function(){var n=zi(Po)[0],e=Je().memoizedState;return[n,e]},useMutableSource:mf,useSyncExternalStore:hf,useId:Nf,unstable_isNewReconciler:!1},tg={readContext:ze,useCallback:Af,useContext:ze,useEffect:Gl,useImperativeHandle:If,useInsertionEffect:Tf,useLayoutEffect:Cf,useMemo:xf,useReducer:Ji,useRef:_f,useState:function(){return Ji(Po)},useDebugValue:Hl,useDeferredValue:function(n){var e=Je();return se===null?e.memoizedState=n:Rf(e,se.memoizedState,n)},useTransition:function(){var n=Ji(Po)[0],e=Je().memoizedState;return[n,e]},useMutableSource:mf,useSyncExternalStore:hf,useId:Nf,unstable_isNewReconciler:!1};function Ke(n,e){if(n&&n.defaultProps){e=ne({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Rs(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:ne({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var li={isMounted:function(n){return(n=n._reactInternals)?st(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=Ce(),r=Un(n),i=pn(o,r);i.payload=e,t!=null&&(i.callback=t),e=Dn(n,i,r),e!==null&&(be(e,n,r,o),mr(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=Ce(),r=Un(n),i=pn(o,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Dn(n,i,r),e!==null&&(be(e,n,r,o),mr(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ce(),o=Un(n),r=pn(t,o);r.tag=2,e!=null&&(r.callback=e),e=Dn(n,r,o),e!==null&&(be(e,n,o,t),mr(e,n,o))}};function Xu(n,e,t,o,r,i,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!Co(t,o)||!Co(r,i):!0}function Df(n,e,t){var o=!1,r=Gn,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(r=Pe(e)?et:Ee.current,o=e.contextTypes,i=(o=o!=null)?Dt(n,r):Gn),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=li,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function bu(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&li.enqueueReplaceState(e,e.state,null)}function Ns(n,e,t,o){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Ml(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ze(i):(i=Pe(e)?et:Ee.current,r.context=Dt(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rs(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&li.enqueueReplaceState(r,r.state,null),Gr(n,t,r,o),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Vt(n,e){try{var t="",o=e;do t+=Pm(o),o=o.return;while(o);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function Oi(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ps(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var og=typeof WeakMap=="function"?WeakMap:Map;function Lf(n,e,t){t=pn(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){zr||(zr=!0,qs=o),Ps(n,e)},t}function Uf(n,e,t){t=pn(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;t.payload=function(){return o(r)},t.callback=function(){Ps(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Ps(n,e),typeof o!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function Zu(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new og;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(t)||(r.add(t),n=yg.bind(null,n,e,t),e.then(n,n))}function ju(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ea(n,e,t,o,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=pn(-1,1),e.tag=2,Dn(t,e,1))),t.lanes|=1),n)}var rg=En.ReactCurrentOwner,Re=!1;function Te(n,e,t,o){e.child=n===null?cf(e,null,t,o):Ut(e,n.child,t,o)}function na(n,e,t,o,r){t=t.render;var i=e.ref;return Rt(e,r),o=Fl(n,e,t,o,i,r),t=Vl(),n!==null&&!Re?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,yn(n,e,r)):(b&&t&&wl(e),e.flags|=1,Te(n,e,o,r),e.child)}function ta(n,e,t,o,r){if(n===null){var i=t.type;return typeof i=="function"&&!Kl(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,Ff(n,e,i,o,r)):(n=Sr(t.type,null,o,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var l=i.memoizedProps;if(t=t.compare,t=t!==null?t:Co,t(l,o)&&n.ref===e.ref)return yn(n,e,r)}return e.flags|=1,n=Fn(i,o),n.ref=e.ref,n.return=e,e.child=n}function Ff(n,e,t,o,r){if(n!==null){var i=n.memoizedProps;if(Co(i,o)&&n.ref===e.ref)if(Re=!1,e.pendingProps=o=i,(n.lanes&r)!==0)n.flags&131072&&(Re=!0);else return e.lanes=n.lanes,yn(n,e,r)}return Ms(n,e,t,o,r)}function Vf(n,e,t){var o=e.pendingProps,r=o.children,i=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(_t,ke),ke|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Y(_t,ke),ke|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:t,Y(_t,ke),ke|=o}else i!==null?(o=i.baseLanes|t,e.memoizedState=null):o=t,Y(_t,ke),ke|=o;return Te(n,e,r,t),e.child}function Gf(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ms(n,e,t,o,r){var i=Pe(t)?et:Ee.current;return i=Dt(e,i),Rt(e,r),t=Fl(n,e,t,o,i,r),o=Vl(),n!==null&&!Re?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,yn(n,e,r)):(b&&o&&wl(e),e.flags|=1,Te(n,e,t,r),e.child)}function oa(n,e,t,o,r){if(Pe(t)){var i=!0;Dr(e)}else i=!1;if(Rt(e,r),e.stateNode===null)yr(n,e),Df(e,t,o),Ns(e,t,o,r),o=!0;else if(n===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,d=t.contextType;typeof d=="object"&&d!==null?d=ze(d):(d=Pe(t)?et:Ee.current,d=Dt(e,d));var f=t.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==o||c!==d)&&bu(e,l,o,d),wn=!1;var p=e.memoizedState;l.state=p,Gr(e,o,l,r),c=e.memoizedState,a!==o||p!==c||Ne.current||wn?(typeof f=="function"&&(Rs(e,t,f,o),c=e.memoizedState),(a=wn||Xu(e,t,a,o,p,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,ff(n,e),a=e.memoizedProps,d=e.type===e.elementType?a:Ke(e.type,a),l.props=d,m=e.pendingProps,p=l.context,c=t.contextType,typeof c=="object"&&c!==null?c=ze(c):(c=Pe(t)?et:Ee.current,c=Dt(e,c));var h=t.getDerivedStateFromProps;(f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==m||p!==c)&&bu(e,l,o,c),wn=!1,p=e.memoizedState,l.state=p,Gr(e,o,l,r);var E=e.memoizedState;a!==m||p!==E||Ne.current||wn?(typeof h=="function"&&(Rs(e,t,h,o),E=e.memoizedState),(d=wn||Xu(e,t,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),o=!1)}return ks(n,e,t,o,i,r)}function ks(n,e,t,o,r,i){Gf(n,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&$u(e,t,!1),yn(n,e,i);o=e.stateNode,rg.current=e;var a=l&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&l?(e.child=Ut(e,n.child,null,i),e.child=Ut(e,null,a,i)):Te(n,e,a,i),e.memoizedState=o.state,r&&$u(e,t,!0),e.child}function Hf(n){var e=n.stateNode;e.pendingContext?Bu(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Bu(n,e.context,!1),kl(n,e.containerInfo)}function ra(n,e,t,o,r){return Lt(),Al(r),e.flags|=256,Te(n,e,t,o),e.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(n){return{baseLanes:n,cachePool:null,transitions:null}}function qf(n,e,t){var o=e.pendingProps,r=j.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Y(j,r&1),n===null)return As(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,n=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ci(l,o,0,null),n=Zn(n,o,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Ls(t),e.memoizedState=Ds,n):ql(e,l));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ig(n,e,l,o,a,r,t);if(i){i=o.fallback,l=e.mode,r=n.child,a=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Fn(r,c),o.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Fn(a,i):(i=Zn(i,l,t,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=n.child.memoizedState,l=l===null?Ls(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=n.childLanes&~t,e.memoizedState=Ds,o}return i=n.child,n=i.sibling,o=Fn(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function ql(n,e){return e=ci({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function er(n,e,t,o){return o!==null&&Al(o),Ut(e,n.child,null,t),n=ql(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ig(n,e,t,o,r,i,l){if(t)return e.flags&256?(e.flags&=-257,o=Oi(Error(N(422))),er(n,e,l,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=ci({mode:"visible",children:o.children},r,0,null),i=Zn(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Ut(e,n.child,null,l),e.child.memoizedState=Ls(l),e.memoizedState=Ds,i);if(!(e.mode&1))return er(n,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var a=o.dgst;return o=a,i=Error(N(419)),o=Oi(i,o,void 0),er(n,e,l,o)}if(a=(l&n.childLanes)!==0,Re||a){if(o=ce,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,gn(n,r),be(o,n,r,-1))}return Wl(),o=Oi(Error(N(421))),er(n,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=vg.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,De=kn(r.nextSibling),Le=e,b=!0,Qe=null,n!==null&&(Ge[He++]=dn,Ge[He++]=fn,Ge[He++]=nt,dn=n.id,fn=n.overflow,nt=e),e=ql(e,o.children),e.flags|=4096,e)}function ia(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),xs(n.return,e,t)}function Wi(n,e,t,o,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function Bf(n,e,t){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Te(n,e,o.children,t),o=j.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ia(n,t,e);else if(n.tag===19)ia(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(Y(j,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Hr(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Wi(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Hr(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Wi(e,!0,t,null,i);break;case"together":Wi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yr(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function yn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ot|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(N(153));if(e.child!==null){for(n=e.child,t=Fn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Fn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function sg(n,e,t){switch(e.tag){case 3:Hf(e),Lt();break;case 5:pf(e);break;case 1:Pe(e.type)&&Dr(e);break;case 4:kl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;Y(Fr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Y(j,j.current&1),e.flags|=128,null):t&e.child.childLanes?qf(n,e,t):(Y(j,j.current&1),n=yn(n,e,t),n!==null?n.sibling:null);Y(j,j.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return Bf(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Y(j,j.current),o)break;return null;case 22:case 23:return e.lanes=0,Vf(n,e,t)}return yn(n,e,t)}var $f,Us,zf,Jf;$f=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Us=function(){};zf=function(n,e,t,o){var r=n.memoizedProps;if(r!==o){n=e.stateNode,Xn(ln.current);var i=null;switch(t){case"input":r=os(n,r),o=os(n,o),i=[];break;case"select":r=ne({},r,{value:void 0}),o=ne({},o,{value:void 0}),i=[];break;case"textarea":r=ss(n,r),o=ss(n,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Mr)}us(t,o);var l;t=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var a=r[d];for(l in a)a.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(go.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(a=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(t||(t={}),t[l]=c[l])}else t||(i||(i=[]),i.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(go.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Q("scroll",n),i||a===c||(i=[])):(i=i||[]).push(d,c))}t&&(i=i||[]).push("style",t);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Jf=function(n,e,t,o){t!==o&&(e.flags|=4)};function bt(n,e){if(!b)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function ge(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function lg(n,e,t){var o=e.pendingProps;switch(Il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Pe(e.type)&&kr(),ge(e),null;case 3:return o=e.stateNode,Ft(),X(Ne),X(Ee),Ll(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Zo(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(zs(Qe),Qe=null))),Us(n,e),ge(e),null;case 5:Dl(e);var r=Xn(Ro.current);if(t=e.type,n!==null&&e.stateNode!=null)zf(n,e,t,o,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(N(166));return ge(e),null}if(n=Xn(ln.current),Zo(e)){o=e.stateNode,t=e.type;var i=e.memoizedProps;switch(o[rn]=e,o[Ao]=i,n=(e.mode&1)!==0,t){case"dialog":Q("cancel",o),Q("close",o);break;case"iframe":case"object":case"embed":Q("load",o);break;case"video":case"audio":for(r=0;r<ro.length;r++)Q(ro[r],o);break;case"source":Q("error",o);break;case"img":case"image":case"link":Q("error",o),Q("load",o);break;case"details":Q("toggle",o);break;case"input":mu(o,i),Q("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Q("invalid",o);break;case"textarea":gu(o,i),Q("invalid",o)}us(t,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?o.textContent!==a&&(i.suppressHydrationWarning!==!0&&bo(o.textContent,a,n),r=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bo(o.textContent,a,n),r=["children",""+a]):go.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&Q("scroll",o)}switch(t){case"input":zo(o),hu(o,i,!0);break;case"textarea":zo(o),yu(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Mr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=yd(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=l.createElement(t,{is:o.is}):(n=l.createElement(t),t==="select"&&(l=n,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):n=l.createElementNS(n,t),n[rn]=e,n[Ao]=o,$f(n,e,!1,!1),e.stateNode=n;e:{switch(l=as(t,o),t){case"dialog":Q("cancel",n),Q("close",n),r=o;break;case"iframe":case"object":case"embed":Q("load",n),r=o;break;case"video":case"audio":for(r=0;r<ro.length;r++)Q(ro[r],n);r=o;break;case"source":Q("error",n),r=o;break;case"img":case"image":case"link":Q("error",n),Q("load",n),r=o;break;case"details":Q("toggle",n),r=o;break;case"input":mu(n,o),r=os(n,o),Q("invalid",n);break;case"option":r=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=ne({},o,{value:void 0}),Q("invalid",n);break;case"textarea":gu(n,o),r=ss(n,o),Q("invalid",n);break;default:r=o}us(t,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Sd(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vd(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&yo(n,c):typeof c=="number"&&yo(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(go.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",n):c!=null&&cl(n,i,c,l))}switch(t){case"input":zo(n),hu(n,o,!1);break;case"textarea":zo(n),yu(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Vn(o.value));break;case"select":n.multiple=!!o.multiple,i=o.value,i!=null?wt(n,!!o.multiple,i,!1):o.defaultValue!=null&&wt(n,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Mr)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(n&&e.stateNode!=null)Jf(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(N(166));if(t=Xn(Ro.current),Xn(ln.current),Zo(e)){if(o=e.stateNode,t=e.memoizedProps,o[rn]=e,(i=o.nodeValue!==t)&&(n=Le,n!==null))switch(n.tag){case 3:bo(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bo(o.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[rn]=e,e.stateNode=o}return ge(e),null;case 13:if(X(j),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(b&&De!==null&&e.mode&1&&!(e.flags&128))uf(),Lt(),e.flags|=98560,i=!1;else if(i=Zo(e),o!==null&&o.dehydrated!==null){if(n===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[rn]=e}else Lt(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else Qe!==null&&(zs(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||j.current&1?le===0&&(le=3):Wl())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Ft(),Us(n,e),n===null&&wo(e.stateNode.containerInfo),ge(e),null;case 10:return Nl(e.type._context),ge(e),null;case 17:return Pe(e.type)&&kr(),ge(e),null;case 19:if(X(j),i=e.memoizedState,i===null)return ge(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)bt(i,!1);else{if(le!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=Hr(n),l!==null){for(e.flags|=128,bt(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)i=t,n=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Y(j,j.current&1|2),e.child}n=n.sibling}i.tail!==null&&re()>Gt&&(e.flags|=128,o=!0,bt(i,!1),e.lanes=4194304)}else{if(!o)if(n=Hr(l),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),bt(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!b)return ge(e),null}else 2*re()-i.renderingStartTime>Gt&&t!==1073741824&&(e.flags|=128,o=!0,bt(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,t=j.current,Y(j,o?t&1|2:t&1),e):(ge(e),null);case 22:case 23:return Ol(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ke&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function ug(n,e){switch(Il(e),e.tag){case 1:return Pe(e.type)&&kr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ft(),X(Ne),X(Ee),Ll(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Dl(e),null;case 13:if(X(j),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Lt()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return X(j),null;case 4:return Ft(),null;case 10:return Nl(e.type._context),null;case 22:case 23:return Ol(),null;case 24:return null;default:return null}}var nr=!1,ye=!1,ag=typeof WeakSet=="function"?WeakSet:Set,D=null;function St(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){te(n,e,o)}else t.current=null}function Fs(n,e,t){try{t()}catch(o){te(n,e,o)}}var sa=!1;function cg(n,e){if(Es=Rr,n=Yd(),Cl(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var l=0,a=-1,c=-1,d=0,f=0,m=n,p=null;n:for(;;){for(var h;m!==t||r!==0&&m.nodeType!==3||(a=l+r),m!==i||o!==0&&m.nodeType!==3||(c=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===n)break n;if(p===t&&++d===r&&(a=l),p===i&&++f===o&&(c=l),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ss={focusedElem:n,selectionRange:t},Rr=!1,D=e;D!==null;)if(e=D,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,D=n;else for(;D!==null;){e=D;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,T=E.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ke(e.type,S),T);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(C){te(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}return E=sa,sa=!1,E}function po(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&Fs(e,t,i)}r=r.next}while(r!==o)}}function ui(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function Vs(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Of(n){var e=n.alternate;e!==null&&(n.alternate=null,Of(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[rn],delete e[Ao],delete e[Cs],delete e[Wh],delete e[Kh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Wf(n){return n.tag===5||n.tag===3||n.tag===4}function la(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gs(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Mr));else if(o!==4&&(n=n.child,n!==null))for(Gs(n,e,t),n=n.sibling;n!==null;)Gs(n,e,t),n=n.sibling}function Hs(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(Hs(n,e,t),n=n.sibling;n!==null;)Hs(n,e,t),n=n.sibling}var fe=null,Ye=!1;function Tn(n,e,t){for(t=t.child;t!==null;)Kf(n,e,t),t=t.sibling}function Kf(n,e,t){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ei,t)}catch{}switch(t.tag){case 5:ye||St(t,e);case 6:var o=fe,r=Ye;fe=null,Tn(n,e,t),fe=o,Ye=r,fe!==null&&(Ye?(n=fe,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):fe.removeChild(t.stateNode));break;case 18:fe!==null&&(Ye?(n=fe,t=t.stateNode,n.nodeType===8?Hi(n.parentNode,t):n.nodeType===1&&Hi(n,t),_o(n)):Hi(fe,t.stateNode));break;case 4:o=fe,r=Ye,fe=t.stateNode.containerInfo,Ye=!0,Tn(n,e,t),fe=o,Ye=r;break;case 0:case 11:case 14:case 15:if(!ye&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Fs(t,e,l),r=r.next}while(r!==o)}Tn(n,e,t);break;case 1:if(!ye&&(St(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(a){te(t,e,a)}Tn(n,e,t);break;case 21:Tn(n,e,t);break;case 22:t.mode&1?(ye=(o=ye)||t.memoizedState!==null,Tn(n,e,t),ye=o):Tn(n,e,t);break;default:Tn(n,e,t)}}function ua(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ag),e.forEach(function(o){var r=Eg.bind(null,n,o);t.has(o)||(t.add(o),o.then(r,r))})}}function We(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var i=n,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:fe=a.stateNode,Ye=!1;break e;case 3:fe=a.stateNode.containerInfo,Ye=!0;break e;case 4:fe=a.stateNode.containerInfo,Ye=!0;break e}a=a.return}if(fe===null)throw Error(N(160));Kf(i,l,r),fe=null,Ye=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){te(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yf(e,n),e=e.sibling}function Yf(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(We(e,n),tn(n),o&4){try{po(3,n,n.return),ui(3,n)}catch(S){te(n,n.return,S)}try{po(5,n,n.return)}catch(S){te(n,n.return,S)}}break;case 1:We(e,n),tn(n),o&512&&t!==null&&St(t,t.return);break;case 5:if(We(e,n),tn(n),o&512&&t!==null&&St(t,t.return),n.flags&32){var r=n.stateNode;try{yo(r,"")}catch(S){te(n,n.return,S)}}if(o&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,l=t!==null?t.memoizedProps:i,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hd(r,i),as(a,l);var d=as(a,i);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?Sd(r,m):f==="dangerouslySetInnerHTML"?vd(r,m):f==="children"?yo(r,m):cl(r,f,m,d)}switch(a){case"input":rs(r,i);break;case"textarea":gd(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?wt(r,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?wt(r,!!i.multiple,i.defaultValue,!0):wt(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ao]=i}catch(S){te(n,n.return,S)}}break;case 6:if(We(e,n),tn(n),o&4){if(n.stateNode===null)throw Error(N(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(S){te(n,n.return,S)}}break;case 3:if(We(e,n),tn(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(S){te(n,n.return,S)}break;case 4:We(e,n),tn(n);break;case 13:We(e,n),tn(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(zl=re())),o&4&&ua(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(ye=(d=ye)||f,We(e,n),ye=d):We(e,n),tn(n),o&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(D=n,f=n.child;f!==null;){for(m=D=f;D!==null;){switch(p=D,h=p.child,p.tag){case 0:case 11:case 14:case 15:po(4,p,p.return);break;case 1:St(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,t=p.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){te(o,t,S)}}break;case 5:St(p,p.return);break;case 22:if(p.memoizedState!==null){ca(m);continue}}h!==null?(h.return=p,D=h):ca(m)}f=f.sibling}e:for(f=null,m=n;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ed("display",l))}catch(S){te(n,n.return,S)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(S){te(n,n.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===n)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:We(e,n),tn(n),o&4&&ua(n);break;case 21:break;default:We(e,n),tn(n)}}function tn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Wf(t)){var o=t;break e}t=t.return}throw Error(N(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(yo(r,""),o.flags&=-33);var i=la(n);Hs(n,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,a=la(n);Gs(n,a,l);break;default:throw Error(N(161))}}catch(c){te(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function dg(n,e,t){D=n,Qf(n)}function Qf(n,e,t){for(var o=(n.mode&1)!==0;D!==null;){var r=D,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||nr;if(!l){var a=r.alternate,c=a!==null&&a.memoizedState!==null||ye;a=nr;var d=ye;if(nr=l,(ye=c)&&!d)for(D=r;D!==null;)l=D,c=l.child,l.tag===22&&l.memoizedState!==null?da(r):c!==null?(c.return=l,D=c):da(r);for(;i!==null;)D=i,Qf(i),i=i.sibling;D=r,nr=a,ye=d}aa(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,D=i):aa(n)}}function aa(n){for(;D!==null;){var e=D;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||ui(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!ye)if(t===null)o.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ke(e.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ku(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Ku(e,l,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&_o(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ye||e.flags&512&&Vs(e)}catch(p){te(e,e.return,p)}}if(e===n){D=null;break}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}}function ca(n){for(;D!==null;){var e=D;if(e===n){D=null;break}var t=e.sibling;if(t!==null){t.return=e.return,D=t;break}D=e.return}}function da(n){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ui(4,e)}catch(c){te(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){te(e,r,c)}}var i=e.return;try{Vs(e)}catch(c){te(e,i,c)}break;case 5:var l=e.return;try{Vs(e)}catch(c){te(e,l,c)}}}catch(c){te(e,e.return,c)}if(e===n){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var fg=Math.ceil,$r=En.ReactCurrentDispatcher,Bl=En.ReactCurrentOwner,Be=En.ReactCurrentBatchConfig,J=0,ce=null,ie=null,pe=0,ke=0,_t=qn(0),le=0,ko=null,ot=0,ai=0,$l=0,mo=null,xe=null,zl=0,Gt=1/0,un=null,zr=!1,qs=null,Ln=null,tr=!1,Rn=null,Jr=0,ho=0,Bs=null,vr=-1,Er=0;function Ce(){return J&6?re():vr!==-1?vr:vr=re()}function Un(n){return n.mode&1?J&2&&pe!==0?pe&-pe:Qh.transition!==null?(Er===0&&(Er=kd()),Er):(n=W,n!==0||(n=window.event,n=n===void 0?16:Hd(n.type)),n):1}function be(n,e,t,o){if(50<ho)throw ho=0,Bs=null,Error(N(185));Lo(n,t,o),(!(J&2)||n!==ce)&&(n===ce&&(!(J&2)&&(ai|=t),le===4&&An(n,pe)),Me(n,o),t===1&&J===0&&!(e.mode&1)&&(Gt=re()+500,ii&&Bn()))}function Me(n,e){var t=n.callbackNode;Qm(n,e);var o=xr(n,n===ce?pe:0);if(o===0)t!==null&&Su(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&Su(t),e===1)n.tag===0?Yh(fa.bind(null,n)):rf(fa.bind(null,n)),Jh(function(){!(J&6)&&Bn()}),t=null;else{switch(Dd(o)){case 1:t=hl;break;case 4:t=Pd;break;case 16:t=Ar;break;case 536870912:t=Md;break;default:t=Ar}t=op(t,Xf.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Xf(n,e){if(vr=-1,Er=0,J&6)throw Error(N(327));var t=n.callbackNode;if(Nt()&&n.callbackNode!==t)return null;var o=xr(n,n===ce?pe:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=Or(n,o);else{e=o;var r=J;J|=2;var i=Zf();(ce!==n||pe!==e)&&(un=null,Gt=re()+500,bn(n,e));do try{hg();break}catch(a){bf(n,a)}while(1);Rl(),$r.current=i,J=r,ie!==null?e=0:(ce=null,pe=0,e=le)}if(e!==0){if(e===2&&(r=ms(n),r!==0&&(o=r,e=$s(n,r))),e===1)throw t=ko,bn(n,0),An(n,o),Me(n,re()),t;if(e===6)An(n,o);else{if(r=n.current.alternate,!(o&30)&&!pg(r)&&(e=Or(n,o),e===2&&(i=ms(n),i!==0&&(o=i,e=$s(n,i))),e===1))throw t=ko,bn(n,0),An(n,o),Me(n,re()),t;switch(n.finishedWork=r,n.finishedLanes=o,e){case 0:case 1:throw Error(N(345));case 2:Wn(n,xe,un);break;case 3:if(An(n,o),(o&130023424)===o&&(e=zl+500-re(),10<e)){if(xr(n,0)!==0)break;if(r=n.suspendedLanes,(r&o)!==o){Ce(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Ts(Wn.bind(null,n,xe,un),e);break}Wn(n,xe,un);break;case 4:if(An(n,o),(o&4194240)===o)break;for(e=n.eventTimes,r=-1;0<o;){var l=31-Xe(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=re()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*fg(o/1960))-o,10<o){n.timeoutHandle=Ts(Wn.bind(null,n,xe,un),o);break}Wn(n,xe,un);break;case 5:Wn(n,xe,un);break;default:throw Error(N(329))}}}return Me(n,re()),n.callbackNode===t?Xf.bind(null,n):null}function $s(n,e){var t=mo;return n.current.memoizedState.isDehydrated&&(bn(n,e).flags|=256),n=Or(n,e),n!==2&&(e=xe,xe=t,e!==null&&zs(e)),n}function zs(n){xe===null?xe=n:xe.push.apply(xe,n)}function pg(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!en(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(n,e){for(e&=~$l,e&=~ai,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xe(e),o=1<<t;n[t]=-1,e&=~o}}function fa(n){if(J&6)throw Error(N(327));Nt();var e=xr(n,0);if(!(e&1))return Me(n,re()),null;var t=Or(n,e);if(n.tag!==0&&t===2){var o=ms(n);o!==0&&(e=o,t=$s(n,o))}if(t===1)throw t=ko,bn(n,0),An(n,e),Me(n,re()),t;if(t===6)throw Error(N(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Wn(n,xe,un),Me(n,re()),null}function Jl(n,e){var t=J;J|=1;try{return n(e)}finally{J=t,J===0&&(Gt=re()+500,ii&&Bn())}}function rt(n){Rn!==null&&Rn.tag===0&&!(J&6)&&Nt();var e=J;J|=1;var t=Be.transition,o=W;try{if(Be.transition=null,W=1,n)return n()}finally{W=o,Be.transition=t,J=e,!(J&6)&&Bn()}}function Ol(){ke=_t.current,X(_t)}function bn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,zh(t)),ie!==null)for(t=ie.return;t!==null;){var o=t;switch(Il(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&kr();break;case 3:Ft(),X(Ne),X(Ee),Ll();break;case 5:Dl(o);break;case 4:Ft();break;case 13:X(j);break;case 19:X(j);break;case 10:Nl(o.type._context);break;case 22:case 23:Ol()}t=t.return}if(ce=n,ie=n=Fn(n.current,null),pe=ke=e,le=0,ko=null,$l=ai=ot=0,xe=mo=null,Qn!==null){for(e=0;e<Qn.length;e++)if(t=Qn[e],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,i=t.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}t.pending=o}Qn=null}return n}function bf(n,e){do{var t=ie;try{if(Rl(),hr.current=Br,qr){for(var o=ee.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}qr=!1}if(tt=0,ae=se=ee=null,fo=!1,No=0,Bl.current=null,t===null||t.return===null){le=1,ko=e,ie=null;break}e:{var i=n,l=t.return,a=t,c=e;if(e=pe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ju(l);if(h!==null){h.flags&=-257,ea(h,l,a,i,e),h.mode&1&&Zu(i,d,e),e=h,c=d;var E=e.updateQueue;if(E===null){var S=new Set;S.add(c),e.updateQueue=S}else E.add(c);break e}else{if(!(e&1)){Zu(i,d,e),Wl();break e}c=Error(N(426))}}else if(b&&a.mode&1){var T=ju(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ea(T,l,a,i,e),Al(Vt(c,a));break e}}i=c=Vt(c,a),le!==4&&(le=2),mo===null?mo=[i]:mo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Lf(i,c,e);Wu(i,y);break e;case 1:a=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ln===null||!Ln.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Uf(i,a,e);Wu(i,C);break e}}i=i.return}while(i!==null)}ep(t)}catch(w){e=w,ie===t&&t!==null&&(ie=t=t.return);continue}break}while(1)}function Zf(){var n=$r.current;return $r.current=Br,n===null?Br:n}function Wl(){(le===0||le===3||le===2)&&(le=4),ce===null||!(ot&268435455)&&!(ai&268435455)||An(ce,pe)}function Or(n,e){var t=J;J|=2;var o=Zf();(ce!==n||pe!==e)&&(un=null,bn(n,e));do try{mg();break}catch(r){bf(n,r)}while(1);if(Rl(),J=t,$r.current=o,ie!==null)throw Error(N(261));return ce=null,pe=0,le}function mg(){for(;ie!==null;)jf(ie)}function hg(){for(;ie!==null&&!qm();)jf(ie)}function jf(n){var e=tp(n.alternate,n,ke);n.memoizedProps=n.pendingProps,e===null?ep(n):ie=e,Bl.current=null}function ep(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ug(t,e),t!==null){t.flags&=32767,ie=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{le=6,ie=null;return}}else if(t=lg(t,e,ke),t!==null){ie=t;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=n}while(e!==null);le===0&&(le=5)}function Wn(n,e,t){var o=W,r=Be.transition;try{Be.transition=null,W=1,gg(n,e,t,o)}finally{Be.transition=r,W=o}return null}function gg(n,e,t,o){do Nt();while(Rn!==null);if(J&6)throw Error(N(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(N(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(Xm(n,i),n===ce&&(ie=ce=null,pe=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tr||(tr=!0,op(Ar,function(){return Nt(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var l=W;W=1;var a=J;J|=4,Bl.current=null,cg(n,t),Yf(t,n),Fh(Ss),Rr=!!Es,Ss=Es=null,n.current=t,dg(t),Bm(),J=a,W=l,Be.transition=i}else n.current=t;if(tr&&(tr=!1,Rn=n,Jr=r),i=n.pendingLanes,i===0&&(Ln=null),Jm(t.stateNode),Me(n,re()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(zr)throw zr=!1,n=qs,qs=null,n;return Jr&1&&n.tag!==0&&Nt(),i=n.pendingLanes,i&1?n===Bs?ho++:(ho=0,Bs=n):ho=0,Bn(),null}function Nt(){if(Rn!==null){var n=Dd(Jr),e=Be.transition,t=W;try{if(Be.transition=null,W=16>n?16:n,Rn===null)var o=!1;else{if(n=Rn,Rn=null,Jr=0,J&6)throw Error(N(331));var r=J;for(J|=4,D=n.current;D!==null;){var i=D,l=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(D=d;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:po(8,f,i)}var m=f.child;if(m!==null)m.return=f,D=m;else for(;D!==null;){f=D;var p=f.sibling,h=f.return;if(Of(f),f===d){D=null;break}if(p!==null){p.return=h,D=p;break}D=h}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}D=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,D=l;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:po(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var g=n.current;for(D=g;D!==null;){l=D;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,D=v;else e:for(l=g;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ui(9,a)}}catch(w){te(a,a.return,w)}if(a===l){D=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,D=C;break e}D=a.return}}if(J=r,Bn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ei,n)}catch{}o=!0}return o}finally{W=t,Be.transition=e}}return!1}function pa(n,e,t){e=Vt(t,e),e=Lf(n,e,1),n=Dn(n,e,1),e=Ce(),n!==null&&(Lo(n,1,e),Me(n,e))}function te(n,e,t){if(n.tag===3)pa(n,n,t);else for(;e!==null;){if(e.tag===3){pa(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ln===null||!Ln.has(o))){n=Vt(t,n),n=Uf(e,n,1),e=Dn(e,n,1),n=Ce(),e!==null&&(Lo(e,1,n),Me(e,n));break}}e=e.return}}function yg(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=Ce(),n.pingedLanes|=n.suspendedLanes&t,ce===n&&(pe&t)===t&&(le===4||le===3&&(pe&130023424)===pe&&500>re()-zl?bn(n,0):$l|=t),Me(n,e)}function np(n,e){e===0&&(n.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var t=Ce();n=gn(n,e),n!==null&&(Lo(n,e,t),Me(n,t))}function vg(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),np(n,t)}function Eg(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(N(314))}o!==null&&o.delete(e),np(n,t)}var tp;tp=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ne.current)Re=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Re=!1,sg(n,e,t);Re=!!(n.flags&131072)}else Re=!1,b&&e.flags&1048576&&sf(e,Ur,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;yr(n,e),n=e.pendingProps;var r=Dt(e,Ee.current);Rt(e,t),r=Fl(null,e,o,n,r,t);var i=Vl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(o)?(i=!0,Dr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ml(e),r.updater=li,e.stateNode=r,r._reactInternals=e,Ns(e,o,n,t),e=ks(null,e,o,!0,i,t)):(e.tag=0,b&&i&&wl(e),Te(null,e,r,t),e=e.child),e;case 16:o=e.elementType;e:{switch(yr(n,e),n=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=_g(o),n=Ke(o,n),r){case 0:e=Ms(null,e,o,n,t);break e;case 1:e=oa(null,e,o,n,t);break e;case 11:e=na(null,e,o,n,t);break e;case 14:e=ta(null,e,o,Ke(o.type,n),t);break e}throw Error(N(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),Ms(n,e,o,r,t);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),oa(n,e,o,r,t);case 3:e:{if(Hf(e),n===null)throw Error(N(387));o=e.pendingProps,i=e.memoizedState,r=i.element,ff(n,e),Gr(e,o,null,t);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Vt(Error(N(423)),e),e=ra(n,e,o,t,r);break e}else if(o!==r){r=Vt(Error(N(424)),e),e=ra(n,e,o,t,r);break e}else for(De=kn(e.stateNode.containerInfo.firstChild),Le=e,b=!0,Qe=null,t=cf(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Lt(),o===r){e=yn(n,e,t);break e}Te(n,e,o,t)}e=e.child}return e;case 5:return pf(e),n===null&&As(e),o=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,l=r.children,_s(o,r)?l=null:i!==null&&_s(o,i)&&(e.flags|=32),Gf(n,e),Te(n,e,l,t),e.child;case 6:return n===null&&As(e),null;case 13:return qf(n,e,t);case 4:return kl(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=Ut(e,null,o,t):Te(n,e,o,t),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),na(n,e,o,r,t);case 7:return Te(n,e,e.pendingProps,t),e.child;case 8:return Te(n,e,e.pendingProps.children,t),e.child;case 12:return Te(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,Y(Fr,o._currentValue),o._currentValue=l,i!==null)if(en(i.value,l)){if(i.children===r.children&&!Ne.current){e=yn(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=pn(-1,t&-t),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),xs(i.return,t,e),a.lanes|=t;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(N(341));l.lanes|=t,a=l.alternate,a!==null&&(a.lanes|=t),xs(l,t,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Te(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Rt(e,t),r=ze(r),o=o(r),e.flags|=1,Te(n,e,o,t),e.child;case 14:return o=e.type,r=Ke(o,e.pendingProps),r=Ke(o.type,r),ta(n,e,o,r,t);case 15:return Ff(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),yr(n,e),e.tag=1,Pe(o)?(n=!0,Dr(e)):n=!1,Rt(e,t),Df(e,o,r),Ns(e,o,r,t),ks(null,e,o,!0,n,t);case 19:return Bf(n,e,t);case 22:return Vf(n,e,t)}throw Error(N(156,e.tag))};function op(n,e){return Nd(n,e)}function Sg(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(n,e,t,o){return new Sg(n,e,t,o)}function Kl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _g(n){if(typeof n=="function")return Kl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fl)return 11;if(n===pl)return 14}return 2}function Fn(n,e){var t=n.alternate;return t===null?(t=qe(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Sr(n,e,t,o,r,i){var l=2;if(o=n,typeof n=="function")Kl(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case dt:return Zn(t.children,r,i,e);case dl:l=8,r|=8;break;case ji:return n=qe(12,t,e,r|2),n.elementType=ji,n.lanes=i,n;case es:return n=qe(13,t,e,r),n.elementType=es,n.lanes=i,n;case ns:return n=qe(19,t,e,r),n.elementType=ns,n.lanes=i,n;case fd:return ci(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case cd:l=10;break e;case dd:l=9;break e;case fl:l=11;break e;case pl:l=14;break e;case Cn:l=16,o=null;break e}throw Error(N(130,n==null?n:typeof n,""))}return e=qe(l,t,e,r),e.elementType=n,e.type=o,e.lanes=i,e}function Zn(n,e,t,o){return n=qe(7,n,o,e),n.lanes=t,n}function ci(n,e,t,o){return n=qe(22,n,o,e),n.elementType=fd,n.lanes=t,n.stateNode={isHidden:!1},n}function Ki(n,e,t){return n=qe(6,n,null,e),n.lanes=t,n}function Yi(n,e,t){return e=qe(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Tg(n,e,t,o,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ri(0),this.expirationTimes=Ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Yl(n,e,t,o,r,i,l,a,c){return n=new Tg(n,e,t,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(i),n}function Cg(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ct,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function rp(n){if(!n)return Gn;n=n._reactInternals;e:{if(st(n)!==n||n.tag!==1)throw Error(N(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(n.tag===1){var t=n.type;if(Pe(t))return of(n,t,e)}return e}function ip(n,e,t,o,r,i,l,a,c){return n=Yl(t,o,!0,n,r,i,l,a,c),n.context=rp(null),t=n.current,o=Ce(),r=Un(t),i=pn(o,r),i.callback=e??null,Dn(t,i,r),n.current.lanes=r,Lo(n,r,o),Me(n,o),n}function di(n,e,t,o){var r=e.current,i=Ce(),l=Un(r);return t=rp(t),e.context===null?e.context=t:e.pendingContext=t,e=pn(i,l),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Dn(r,e,l),n!==null&&(be(n,r,l,i),mr(n,r,l)),l}function Wr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ma(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Ql(n,e){ma(n,e),(n=n.alternate)&&ma(n,e)}function wg(){return null}var sp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Xl(n){this._internalRoot=n}fi.prototype.render=Xl.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(N(409));di(n,e,null,null)};fi.prototype.unmount=Xl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;rt(function(){di(null,n,null,null)}),e[hn]=null}};function fi(n){this._internalRoot=n}fi.prototype.unstable_scheduleHydration=function(n){if(n){var e=Fd();n={blockedOn:null,target:n,priority:e};for(var t=0;t<In.length&&e!==0&&e<In[t].priority;t++);In.splice(t,0,n),t===0&&Gd(n)}};function bl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function pi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ha(){}function Ig(n,e,t,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=Wr(l);i.call(d)}}var l=ip(e,o,n,0,null,!1,!1,"",ha);return n._reactRootContainer=l,n[hn]=l.current,wo(n.nodeType===8?n.parentNode:n),rt(),l}for(;r=n.lastChild;)n.removeChild(r);if(typeof o=="function"){var a=o;o=function(){var d=Wr(c);a.call(d)}}var c=Yl(n,0,!1,null,null,!1,!1,"",ha);return n._reactRootContainer=c,n[hn]=c.current,wo(n.nodeType===8?n.parentNode:n),rt(function(){di(e,c,t,o)}),c}function mi(n,e,t,o,r){var i=t._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var a=r;r=function(){var c=Wr(l);a.call(c)}}di(e,l,n,r)}else l=Ig(t,e,n,r,o);return Wr(l)}Ld=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=oo(e.pendingLanes);t!==0&&(gl(e,t|1),Me(e,re()),!(J&6)&&(Gt=re()+500,Bn()))}break;case 13:rt(function(){var o=gn(n,1);if(o!==null){var r=Ce();be(o,n,1,r)}}),Ql(n,1)}};yl=function(n){if(n.tag===13){var e=gn(n,134217728);if(e!==null){var t=Ce();be(e,n,134217728,t)}Ql(n,134217728)}};Ud=function(n){if(n.tag===13){var e=Un(n),t=gn(n,e);if(t!==null){var o=Ce();be(t,n,e,o)}Ql(n,e)}};Fd=function(){return W};Vd=function(n,e){var t=W;try{return W=n,e()}finally{W=t}};ds=function(n,e,t){switch(e){case"input":if(rs(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var r=ri(o);if(!r)throw Error(N(90));md(o),rs(o,r)}}}break;case"textarea":gd(n,t);break;case"select":e=t.value,e!=null&&wt(n,!!t.multiple,e,!1)}};Cd=Jl;wd=rt;var Ag={usingClientEntryPoint:!1,Events:[Fo,ht,ri,_d,Td,Jl]},Zt={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xg={bundleType:Zt.bundleType,version:Zt.version,rendererPackageName:Zt.rendererPackageName,rendererConfig:Zt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xd(n),n===null?null:n.stateNode},findFiberByHostInstance:Zt.findFiberByHostInstance||wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{ei=or.inject(xg),sn=or}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;Fe.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(e))throw Error(N(200));return Cg(n,e,null,t)};Fe.createRoot=function(n,e){if(!bl(n))throw Error(N(299));var t=!1,o="",r=sp;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Yl(n,1,!1,null,null,t,!1,o,r),n[hn]=e.current,wo(n.nodeType===8?n.parentNode:n),new Xl(e)};Fe.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(N(188)):(n=Object.keys(n).join(","),Error(N(268,n)));return n=xd(e),n=n===null?null:n.stateNode,n};Fe.flushSync=function(n){return rt(n)};Fe.hydrate=function(n,e,t){if(!pi(e))throw Error(N(200));return mi(null,n,e,!0,t)};Fe.hydrateRoot=function(n,e,t){if(!bl(n))throw Error(N(405));var o=t!=null&&t.hydratedSources||null,r=!1,i="",l=sp;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=ip(e,null,n,1,t??null,r,!1,i,l),n[hn]=e.current,wo(n),o)for(n=0;n<o.length;n++)t=o[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new fi(e)};Fe.render=function(n,e,t){if(!pi(e))throw Error(N(200));return mi(null,n,e,!1,t)};Fe.unmountComponentAtNode=function(n){if(!pi(n))throw Error(N(40));return n._reactRootContainer?(rt(function(){mi(null,null,n,!1,function(){n._reactRootContainer=null,n[hn]=null})}),!0):!1};Fe.unstable_batchedUpdates=Jl;Fe.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!pi(t))throw Error(N(200));if(n==null||n._reactInternals===void 0)throw Error(N(38));return mi(n,e,t,!1,o)};Fe.version="18.3.1-next-f1338f8080-20240426";function lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lp)}catch(n){console.error(n)}}lp(),sd.exports=Fe;var Rg=sd.exports,ga=Rg;bi.createRoot=ga.createRoot,bi.hydrateRoot=ga.hydrateRoot;var cn=(n=>(n.HOME="home",n.UPLOAD="upload",n.QUIZ="quiz",n))(cn||{});const Ng=({children:n,activeTab:e,onNavigate:t})=>_.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[_.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-10 shadow-sm",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("home"),children:[_.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),_.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"ExamAI "})]}),_.jsxs("nav",{className:"flex space-x-4",children:[_.jsx("button",{onClick:()=>t("home"),className:`px-3 py-2 rounded-md text-sm font-medium ${e==="home"?"bg-blue-50 text-blue-700":"text-slate-600 hover:text-slate-900"}`,children:""}),_.jsx("button",{onClick:()=>t("upload"),className:`px-3 py-2 rounded-md text-sm font-medium ${e==="upload"?"bg-blue-50 text-blue-700":"text-slate-600 hover:text-slate-900"}`,children:""}),_.jsx("button",{onClick:()=>t("quiz"),className:`px-3 py-2 rounded-md text-sm font-medium ${e==="quiz"?"bg-blue-50 text-blue-700":"text-slate-600 hover:text-slate-900"}`,children:""})]})]})}),_.jsx("main",{className:"flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n}),_.jsx("footer",{className:"bg-white border-t border-slate-200 py-6 mt-8",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-slate-500 text-sm",children:[" ",new Date().getFullYear()," ExamAI . Powered by Gemini."]})})]}),jn=({children:n,variant:e="primary",isLoading:t,className:o="",disabled:r,...i})=>{const l="px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border-2 border-slate-300 text-slate-700 hover:bg-slate-50 focus:ring-slate-400"};return _.jsxs("button",{className:`${l} ${a[e]} ${o}`,disabled:t||r,...i,children:[t&&_.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})},Pg=({onNavigate:n})=>_.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-12",children:[_.jsxs("div",{className:"text-center space-y-4 max-w-2xl",children:[_.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 tracking-tight sm:text-5xl",children:"AI "}),_.jsx("p",{className:"text-xl text-slate-600",children:" AI "})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-4xl",children:[_.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-2xl border border-slate-200 hover:shadow-xl transition-shadow duration-300",children:_.jsxs("div",{className:"p-8 flex flex-col h-full",children:[_.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-6 text-blue-600",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})})}),_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:""}),_.jsx("p",{className:"text-slate-500 mb-8 flex-grow",children:"Gemini  Google Sheets"}),_.jsx(jn,{onClick:()=>n(cn.UPLOAD),className:"w-full",children:""})]})}),_.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-2xl border border-slate-200 hover:shadow-xl transition-shadow duration-300",children:_.jsxs("div",{className:"p-8 flex flex-col h-full",children:[_.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center mb-6 text-indigo-600",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}),_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:""}),_.jsx("p",{className:"text-slate-500 mb-8 flex-grow",children:""}),_.jsx(jn,{variant:"secondary",onClick:()=>n(cn.QUIZ),className:"w-full",children:""})]})})]})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Mg,kg;function Dg(){return{geminiUrl:Mg,vertexUrl:kg}}function Lg(n,e,t,o){var r,i;if(!(n!=null&&n.baseUrl)){const l=Dg();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:t:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sn{}function M(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(n,e,t){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const a=l.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[a])){const c=n[a];if(Array.isArray(t))for(let d=0;d<c.length;d++){const f=c[d];u(f,e.slice(i+1),t[d])}else for(const d of c)u(d,e.slice(i+1),t)}return}else if(l.endsWith("[0]")){const a=l.slice(0,-3);a in n||(n[a]=[{}]);const c=n[a];u(c[0],e.slice(i+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function s(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in n){const l=n[i];return Array.isArray(l)?l.map(a=>s(a,e.slice(o+1),t)):t}else return t}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function Ug(n,e){for(const[t,o]of Object.entries(e)){const r=t.split("."),i=o.split("."),l=new Set;let a=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){a=c;break}if(a!==-1&&i.length>a)for(let c=a;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Js(n,r,i,0,l)}}function Js(n,e,t,o,r){if(o>=e.length||typeof n!="object"||n===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),a=n;if(l in a&&Array.isArray(a[l]))for(const c of a[l])Js(c,e,t,o+1,r)}else if(i==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,a=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of a)c[d]=l[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of t.slice(o))p==="*"?m.push(d):m.push(p);u(l,m,f)}for(const d of a)delete l[d]}}else{const l=n;i in l&&Js(l[i],e,t,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zl(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fg(n){const e={},t=s(n,["operationName"]);t!=null&&u(e,["operationName"],t);const o=s(n,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function Vg(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response","generateVideoResponse"]);return l!=null&&u(e,["response"],Hg(l)),e}function Gg(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response"]);return l!=null&&u(e,["response"],qg(l)),e}function Hg(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Bg(l))),u(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function qg(n){const e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>$g(l))),u(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Bg(n){const e={},t=s(n,["video"]);return t!=null&&u(e,["video"],Yg(t)),e}function $g(n){const e={},t=s(n,["_self"]);return t!=null&&u(e,["video"],Qg(t)),e}function zg(n){const e={},t=s(n,["operationName"]);return t!=null&&u(e,["_url","operationName"],t),e}function Jg(n){const e={},t=s(n,["operationName"]);return t!=null&&u(e,["_url","operationName"],t),e}function Og(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response"]);return l!=null&&u(e,["response"],Wg(l)),e}function Wg(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&u(e,["parent"],o);const r=s(n,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function up(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response"]);return l!=null&&u(e,["response"],Kg(l)),e}function Kg(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&u(e,["parent"],o);const r=s(n,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Yg(n){const e={},t=s(n,["uri"]);t!=null&&u(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&u(e,["videoBytes"],Zl(o));const r=s(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function Qg(n){const e={},t=s(n,["gcsUri"]);t!=null&&u(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Zl(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ya;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ya||(ya={}));var va;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(va||(va={}));var Ea;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Ea||(Ea={}));var Z;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Z||(Z={}));var Sa;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sa||(Sa={}));var _a;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(_a||(_a={}));var Ta;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ta||(Ta={}));var Ca;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ca||(Ca={}));var wa;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(wa||(wa={}));var Ia;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ia||(Ia={}));var Aa;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Aa||(Aa={}));var xa;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(xa||(xa={}));var Ra;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ra||(Ra={}));var Na;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Na||(Na={}));var Pa;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Pa||(Pa={}));var Ma;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Ma||(Ma={}));var ka;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ka||(ka={}));var Da;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Da||(Da={}));var La;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(La||(La={}));var Ua;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Ua||(Ua={}));var Fa;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fa||(Fa={}));var Kr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Kr||(Kr={}));var Va;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Va||(Va={}));var Ga;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ga||(Ga={}));var Ha;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ha||(Ha={}));var Os;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Os||(Os={}));var qa;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qa||(qa={}));var Ba;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ba||(Ba={}));var $a;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})($a||($a={}));var za;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(za||(za={}));var Ja;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Ja||(Ja={}));var Oa;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Oa||(Oa={}));var Wa;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Wa||(Wa={}));var Ka;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ka||(Ka={}));var Ya;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ya||(Ya={}));var Qa;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qa||(Qa={}));var Xa;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Xa||(Xa={}));var ba;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(ba||(ba={}));var Za;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Za||(Za={}));var ja;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(ja||(ja={}));var ec;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(ec||(ec={}));var nc;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(nc||(nc={}));var tc;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(tc||(tc={}));var oc;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(oc||(oc={}));var rc;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(rc||(rc={}));var ic;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ic||(ic={}));var sc;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(sc||(sc={}));var lc;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(lc||(lc={}));var uc;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(uc||(uc={}));var ac;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ac||(ac={}));var cc;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(cc||(cc={}));var dc;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dc||(dc={}));var fc;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fc||(fc={}));var pc;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(pc||(pc={}));var Tt;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Tt||(Tt={}));class Ws{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class jt{get text(){var e,t,o,r,i,l,a,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,o,r,i,l,a,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,r,i,l,a,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,o,r,i,l,a,c,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,r,i,l,a,c,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class mc{}class hc{}class Xg{}class bg{}class Zg{}class jg{}class gc{}class yc{}class vc{}class ey{}class Yr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Yr;let r;const i=e;return t?r=Gg(i):r=Vg(i),Object.assign(o,r),o}}class Ec{}class Sc{}class _c{}class Tc{}class ny{}class ty{}class oy{}class jl{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new jl,i=Og(e);return Object.assign(o,i),o}}class ry{}class iy{}class sy{}class Cc{}class ly{get text(){var e,t,o;let r="",i=!1;const l=[];for(const a of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(a))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,r+=a.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,t,o;let r="";const i=[];for(const l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[a,c]of Object.entries(l))a!=="inlineData"&&c!==null&&i.push(a);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class uy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class eu{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new eu,i=up(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ap(n,e){const t=O(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function cp(n){return Array.isArray(n)?n.map(e=>Qr(e)):[Qr(n)]}function Qr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function dp(n){const e=Qr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fp(n){const e=Qr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wc(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function pp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>wc(e)):[wc(n)]}function Ks(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ic(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ac(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ve(n){if(n==null)throw new Error("ContentUnion is required");return Ks(n)?n:{role:"user",parts:pp(n)}}function nu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=ve(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=ve(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ve(t)):[ve(e)]}function $e(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ic(n)||Ac(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ve(n)]}const e=[],t=[],o=Ks(n[0]);for(const r of n){const i=Ks(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Ic(r)||Ac(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||e.push({role:"user",parts:pp(t)}),e}function ay(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(Z).includes(t[0].toUpperCase())?t[0].toUpperCase():Z.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(Z).includes(o.toUpperCase())?o.toUpperCase():Z.TYPE_UNSPECIFIED})}}function Pt(n){const e={},t=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=n.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,n=i[1]):i[1].type==="null"&&(e.nullable=!0,n=i[0])),n.type instanceof Array&&ay(n.type,e);for(const[l,a]of Object.entries(n))if(a!=null)if(l=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Z).includes(a.toUpperCase())?a.toUpperCase():Z.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=Pt(a);else if(o.includes(l)){const c=[];for(const d of a){if(d.type=="null"){e.nullable=!0;continue}c.push(Pt(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(a))c[d]=Pt(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=a}return e}function tu(n){return Pt(n)}function ou(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function ru(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function $t(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pt(e.response));return n}function zt(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function cy(n,e,t,o=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function _n(n,e){if(typeof e!="string")throw new Error("name must be a string");return cy(n,e,"cachedContents")}function mp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function $n(n){return Zl(n)}function dy(n){return n!=null&&typeof n=="object"&&"name"in n}function fy(n){return n!=null&&typeof n=="object"&&"video"in n}function py(n){return n!=null&&typeof n=="object"&&"uri"in n}function hp(n){var e;let t;if(dy(n)&&(t=n.name),!(py(n)&&(t=n.uri,t===void 0))&&!(fy(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function gp(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function yp(n){for(const e of["models","tunedModels","publisherModels"])if(my(n,e))return n[e];return[]}function my(n,e){return n!==null&&typeof n=="object"&&e in n}function hy(n,e={}){const t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function gy(n,e={}){const t=[],o=new Set;for(const r of n){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=hy(r,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function vp(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function yy(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ep(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Jt(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Sp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vy(n){const e={},t=s(n,["responsesFile"]);t!=null&&u(e,["fileName"],t);const o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Zy(l))),u(e,["inlinedResponses"],i)}const r=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["inlinedEmbedContentResponses"],i)}return e}function Ey(n){const e={},t=s(n,["predictionsFormat"]);t!=null&&u(e,["format"],t);const o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const r=s(n,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function Sy(n){const e={},t=s(n,["format"]);t!=null&&u(e,["predictionsFormat"],t);const o=s(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _r(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["metadata","state"]);r!=null&&u(e,["state"],Sp(r));const i=s(n,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);const l=s(n,["metadata","endTime"]);l!=null&&u(e,["endTime"],l);const a=s(n,["metadata","updateTime"]);a!=null&&u(e,["updateTime"],a);const c=s(n,["metadata","model"]);c!=null&&u(e,["model"],c);const d=s(n,["metadata","output"]);return d!=null&&u(e,["dest"],vy(Ep(d))),e}function Ys(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["state"]);r!=null&&u(e,["state"],Sp(r));const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["createTime"]);l!=null&&u(e,["createTime"],l);const a=s(n,["startTime"]);a!=null&&u(e,["startTime"],a);const c=s(n,["endTime"]);c!=null&&u(e,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&u(e,["updateTime"],d);const f=s(n,["model"]);f!=null&&u(e,["model"],f);const m=s(n,["inputConfig"]);m!=null&&u(e,["src"],_y(m));const p=s(n,["outputConfig"]);p!=null&&u(e,["dest"],Ey(Ep(p)));const h=s(n,["completionStats"]);return h!=null&&u(e,["completionStats"],h),e}function _y(n){const e={},t=s(n,["instancesFormat"]);t!=null&&u(e,["format"],t);const o=s(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const r=s(n,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function Ty(n,e){const t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&u(t,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>by(n,l))),u(t,["requests","requests"],i)}return t}function Cy(n){const e={},t=s(n,["format"]);t!=null&&u(e,["instancesFormat"],t);const o=s(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function wy(n){const e={},t=s(n,["data"]);if(t!=null&&u(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Iy(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],Jt(n,o)),t}function Ay(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],Jt(n,o)),t}function xy(n){const e={},t=s(n,["content"]);t!=null&&u(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],Ry(o));const r=s(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const i=s(n,["finishReason"]);i!=null&&u(e,["finishReason"],i);const l=s(n,["avgLogprobs"]);l!=null&&u(e,["avgLogprobs"],l);const a=s(n,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const c=s(n,["index"]);c!=null&&u(e,["index"],c);const d=s(n,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);const f=s(n,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),u(e,["safetyRatings"],p)}const m=s(n,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],m),e}function Ry(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function _p(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>iv(i))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function Ny(n,e){const t={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Py(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],Sy(yy(r))),t}function xc(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["src"]);r!=null&&u(t,["batch","inputConfig"],Ty(n,vp(n,r)));const i=s(e,["config"]);return i!=null&&Ny(i,t),t}function My(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["model"],O(n,o));const r=s(e,["src"]);r!=null&&u(t,["inputConfig"],Cy(vp(n,r)));const i=s(e,["config"]);return i!=null&&Py(i,t),t}function ky(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),t}function Dy(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["src"]);r!=null&&u(t,["batch","inputConfig"],qy(n,r));const i=s(e,["config"]);return i!=null&&ky(i,t),t}function Ly(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],Jt(n,o)),t}function Uy(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],Jt(n,o)),t}function Fy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);return i!=null&&u(e,["error"],i),e}function Vy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);return i!=null&&u(e,["error"],i),e}function Gy(n,e){const t={},o=s(e,["contents"]);if(o!=null){let i=nu(n,o);Array.isArray(i)&&(i=i.map(l=>l)),u(t,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(u(t,["_self"],Hy(r,t)),Ug(t,{"requests[].*":"requests[].request.*"})),t}function Hy(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function qy(n,e){const t={},o=s(e,["fileName"]);o!=null&&u(t,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&u(t,["requests"],Gy(n,r)),t}function By(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $y(n){const e={},t=s(n,["id"]);t!=null&&u(e,["id"],t);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);if(r!=null&&u(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zy(n){const e={},t=s(n,["allowedFunctionNames"]);t!=null&&u(e,["allowedFunctionNames"],t);const o=s(n,["mode"]);if(o!=null&&u(e,["mode"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jy(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],_p(ve(r)));const i=s(e,["temperature"]);i!=null&&u(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&u(o,["topP"],l);const a=s(e,["topK"]);a!=null&&u(o,["topK"],a);const c=s(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&u(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&u(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&u(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&u(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&u(o,["seed"],S);const T=s(e,["responseMimeType"]);T!=null&&u(o,["responseMimeType"],T);const y=s(e,["responseSchema"]);y!=null&&u(o,["responseSchema"],tu(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&u(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(t!==void 0&&v!=null){let H=v;Array.isArray(H)&&(H=H.map(L=>sv(L))),u(t,["safetySettings"],H)}const C=s(e,["tools"]);if(t!==void 0&&C!=null){let H=zt(C);Array.isArray(H)&&(H=H.map(L=>uv($t(L)))),u(t,["tools"],H)}const w=s(e,["toolConfig"]);if(t!==void 0&&w!=null&&u(t,["toolConfig"],lv(w)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);t!==void 0&&A!=null&&u(t,["cachedContent"],_n(n,A));const I=s(e,["responseModalities"]);I!=null&&u(o,["responseModalities"],I);const x=s(e,["mediaResolution"]);x!=null&&u(o,["mediaResolution"],x);const R=s(e,["speechConfig"]);if(R!=null&&u(o,["speechConfig"],ou(R)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=s(e,["thinkingConfig"]);P!=null&&u(o,["thinkingConfig"],P);const G=s(e,["imageConfig"]);G!=null&&u(o,["imageConfig"],Xy(G));const z=s(e,["enableEnhancedCivicAnswers"]);return z!=null&&u(o,["enableEnhancedCivicAnswers"],z),o}function Oy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>xy(d))),u(e,["candidates"],c)}const r=s(n,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const i=s(n,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const l=s(n,["responseId"]);l!=null&&u(e,["responseId"],l);const a=s(n,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Wy(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],Jt(n,o)),t}function Ky(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],Jt(n,o)),t}function Yy(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function Qy(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function Xy(n){const e={},t=s(n,["aspectRatio"]);t!=null&&u(e,["aspectRatio"],t);const o=s(n,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),s(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function by(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["request","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let a=$e(r);Array.isArray(a)&&(a=a.map(c=>_p(c))),u(t,["request","contents"],a)}const i=s(e,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(e,["config"]);return l!=null&&u(t,["request","generationConfig"],Jy(n,l,s(t,["request"],{}))),t}function Zy(n){const e={},t=s(n,["response"]);t!=null&&u(e,["response"],Oy(t));const o=s(n,["error"]);return o!=null&&u(e,["error"],o),e}function jy(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function ev(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const i=s(n,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),t}function nv(n){const e={},t=s(n,["config"]);return t!=null&&jy(t,e),e}function tv(n){const e={},t=s(n,["config"]);return t!=null&&ev(t,e),e}function ov(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>_r(l))),u(e,["batchJobs"],i)}return e}function rv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ys(l))),u(e,["batchJobs"],i)}return e}function iv(n){const e={},t=s(n,["mediaResolution"]);t!=null&&u(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&u(e,["fileData"],By(i));const l=s(n,["functionCall"]);l!=null&&u(e,["functionCall"],$y(l));const a=s(n,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],wy(c));const d=s(n,["text"]);d!=null&&u(e,["text"],d);const f=s(n,["thought"]);f!=null&&u(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function sv(n){const e={},t=s(n,["category"]);if(t!=null&&u(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function lv(n){const e={},t=s(n,["retrievalConfig"]);t!=null&&u(e,["retrievalConfig"],t);const o=s(n,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],zy(o)),e}function uv(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&u(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);const r=s(n,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),u(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&u(e,["googleMaps"],Yy(l));const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],Qy(a));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(vn||(vn={}));class lt{constructor(e,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,r)}init(e,t,o){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class av extends Sn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new lt(vn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=xc(this.apiClient,e),o=t._url,r=M("{model}:batchGenerateContent",o),a=t.batch.inputConfig.requests,c=a.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}d.push(m)}return a.requests=d,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=My(this.apiClient,e);return a=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ys(f))}else{const d=xc(this.apiClient,e);return a=M("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>_r(f))}}async createEmbeddingsInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dy(this.apiClient,e);return i=M("{model}:asyncBatchEmbedContent",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>_r(c))}}async get(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=Ky(this.apiClient,e);return a=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ys(f))}else{const d=Wy(this.apiClient,e);return a=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>_r(f))}}async cancel(e){var t,o,r,i;let l="",a={};if(this.apiClient.isVertexAI()){const c=Ay(this.apiClient,e);l=M("batchPredictionJobs/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Iy(this.apiClient,e);l=M("batches/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=tv(e);return a=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=rv(f),p=new Cc;return Object.assign(p,m),p})}else{const d=nv(e);return a=M("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ov(f),p=new Cc;return Object.assign(p,m),p})}}async delete(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=Uy(this.apiClient,e);return a=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Vy(f))}else{const d=Ly(this.apiClient,e);return a=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Fy(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cv(n){const e={},t=s(n,["data"]);if(t!=null&&u(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Rc(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Dv(i))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function dv(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const i=s(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let f=$e(l);Array.isArray(f)&&(f=f.map(m=>Rc(m))),u(e,["contents"],f)}const a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],Rc(ve(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Uv(m))),u(e,["tools"],f)}const d=s(n,["toolConfig"]);if(e!==void 0&&d!=null&&u(e,["toolConfig"],Lv(d)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function fv(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const i=s(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let m=$e(l);Array.isArray(m)&&(m=m.map(p=>p)),u(e,["contents"],m)}const a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],ve(a));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>Fv(p))),u(e,["tools"],m)}const d=s(n,["toolConfig"]);e!==void 0&&d!=null&&u(e,["toolConfig"],d);const f=s(n,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),t}function pv(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["model"],ap(n,o));const r=s(e,["config"]);return r!=null&&dv(r,t),t}function mv(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["model"],ap(n,o));const r=s(e,["config"]);return r!=null&&fv(r,t),t}function hv(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],_n(n,o)),t}function gv(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],_n(n,o)),t}function yv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function vv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function Ev(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Sv(n){const e={},t=s(n,["id"]);t!=null&&u(e,["id"],t);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);if(r!=null&&u(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _v(n){const e={},t=s(n,["allowedFunctionNames"]);t!=null&&u(e,["allowedFunctionNames"],t);const o=s(n,["mode"]);if(o!=null&&u(e,["mode"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Tv(n){const e={},t=s(n,["description"]);t!=null&&u(e,["description"],t);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&u(e,["response"],l);const a=s(n,["responseJsonSchema"]);if(a!=null&&u(e,["responseJsonSchema"],a),s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Cv(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],_n(n,o)),t}function wv(n,e){const t={},o=s(e,["name"]);return o!=null&&u(t,["_url","name"],_n(n,o)),t}function Iv(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function Av(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function xv(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function Rv(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function Nv(n){const e={},t=s(n,["config"]);return t!=null&&xv(t,e),e}function Pv(n){const e={},t=s(n,["config"]);return t!=null&&Rv(t,e),e}function Mv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["cachedContents"],i)}return e}function kv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["cachedContents"],i)}return e}function Dv(n){const e={},t=s(n,["mediaResolution"]);t!=null&&u(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&u(e,["fileData"],Ev(i));const l=s(n,["functionCall"]);l!=null&&u(e,["functionCall"],Sv(l));const a=s(n,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],cv(c));const d=s(n,["text"]);d!=null&&u(e,["text"],d);const f=s(n,["thought"]);f!=null&&u(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Lv(n){const e={},t=s(n,["retrievalConfig"]);t!=null&&u(e,["retrievalConfig"],t);const o=s(n,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],_v(o)),e}function Uv(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&u(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);const r=s(n,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),u(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&u(e,["googleMaps"],Iv(l));const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],Av(a));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function Fv(n){const e={},t=s(n,["retrieval"]);t!=null&&u(e,["retrieval"],t);const o=s(n,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(n,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);const i=s(n,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);const l=s(n,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>Tv(p))),u(e,["functionDeclarations"],m)}const a=s(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);const f=s(n,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function Vv(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),t}function Gv(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),t}function Hv(n,e){const t={},o=s(e,["name"]);o!=null&&u(t,["_url","name"],_n(n,o));const r=s(e,["config"]);return r!=null&&Vv(r,t),t}function qv(n,e){const t={},o=s(e,["name"]);o!=null&&u(t,["_url","name"],_n(n,o));const r=s(e,["config"]);return r!=null&&Gv(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bv extends Sn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new lt(vn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=mv(this.apiClient,e);return a=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=pv(this.apiClient,e);return a=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=wv(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Cv(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=gv(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=vv(f),p=new _c;return Object.assign(p,m),p})}else{const d=hv(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=yv(f),p=new _c;return Object.assign(p,m),p})}}async update(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=qv(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Hv(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=Pv(e);return a=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=kv(f),p=new Tc;return Object.assign(p,m),p})}else{const d=Nv(e);return a=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Mv(f),p=new Tc;return Object.assign(p,m),p})}}}function Xr(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]]);return t}function Nc(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(n){return this instanceof F?(this.v=n,this):new F(n)}function Ze(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(h){return function(E){return Promise.resolve(E).then(h,m)}}function a(h,E){o[h]&&(r[h]=function(S){return new Promise(function(T,y){i.push([h,S,T,y])>1||c(h,S)})},E&&(r[h]=E(r[h])))}function c(h,E){try{d(o[h](E))}catch(S){p(i[0][3],S)}}function d(h){h.value instanceof F?Promise.resolve(h.value.v).then(f,m):p(i[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function je(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Nc=="function"?Nc(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=n[i]&&function(l){return new Promise(function(a,c){l=n[i](l),r(a,c,l.done,l.value)})}}function r(i,l,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $v(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Tp(t)}function Tp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zv(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Pc(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let i=!0;for(;o<t&&n[o].role==="model";)r.push(n[o]),i&&!Tp(n[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class Jv{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Ov(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ov{constructor(e,t,o,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),zv(i)}async sendMessage(e){var t;await this.sendPromise;const o=ve(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,l,a;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(a=f.slice(m))!==null&&a!==void 0?a:[]);const h=d?[d]:[];this.recordHistory(o,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const o=ve(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const t=e?Pc(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Ze(this,arguments,function*(){var r,i,l,a,c,d;const f=[];try{for(var m=!0,p=je(e),h;h=yield F(p.next()),r=h.done,!r;m=!0){a=h.value,m=!1;const E=a;if($v(E)){const S=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;S!==void 0&&f.push(S)}yield yield F(E)}}catch(E){i={error:E}}finally{try{!m&&!r&&(l=p.return)&&(yield F(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let r=[];t.length>0&&t.every(i=>i.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Pc(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,hi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wv(n){const e={},t=s(n,["file"]);return t!=null&&u(e,["file"],t),e}function Kv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function Yv(n){const e={},t=s(n,["name"]);return t!=null&&u(e,["_url","file"],hp(t)),e}function Qv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function Xv(n){const e={},t=s(n,["name"]);return t!=null&&u(e,["_url","file"],hp(t)),e}function bv(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function Zv(n){const e={},t=s(n,["config"]);return t!=null&&bv(t,e),e}function jv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e0 extends Sn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new lt(vn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Zv(e);return i=M("files",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=jv(c),f=new ry;return Object.assign(f,d),f})}}async createInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Wv(e);return i=M("upload/v1beta/files",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Kv(c),f=new iy;return Object.assign(f,d),f})}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Xv(e);return i=M("files/{file}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Yv(e);return i=M("files/{file}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Qv(c),f=new sy;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tr(n){const e={},t=s(n,["data"]);if(t!=null&&u(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function n0(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>y0(i))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function t0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function o0(n){const e={},t=s(n,["id"]);t!=null&&u(e,["id"],t);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);if(r!=null&&u(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function r0(n){const e={},t=s(n,["description"]);t!=null&&u(e,["description"],t);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&u(e,["response"],l);const a=s(n,["responseJsonSchema"]);if(a!=null&&u(e,["responseJsonSchema"],a),s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function i0(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&u(e,["modelConfig"],t);const o=s(n,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);const r=s(n,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);const i=s(n,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const l=s(n,["enableAffectiveDialog"]);l!=null&&u(e,["enableAffectiveDialog"],l);const a=s(n,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const c=s(n,["logprobs"]);c!=null&&u(e,["logprobs"],c);const d=s(n,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);const f=s(n,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const m=s(n,["presencePenalty"]);m!=null&&u(e,["presencePenalty"],m);const p=s(n,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const h=s(n,["responseMimeType"]);h!=null&&u(e,["responseMimeType"],h);const E=s(n,["responseModalities"]);E!=null&&u(e,["responseModalities"],E);const S=s(n,["responseSchema"]);S!=null&&u(e,["responseSchema"],S);const T=s(n,["routingConfig"]);T!=null&&u(e,["routingConfig"],T);const y=s(n,["seed"]);y!=null&&u(e,["seed"],y);const g=s(n,["speechConfig"]);g!=null&&u(e,["speechConfig"],g);const v=s(n,["stopSequences"]);v!=null&&u(e,["stopSequences"],v);const C=s(n,["temperature"]);C!=null&&u(e,["temperature"],C);const w=s(n,["thinkingConfig"]);w!=null&&u(e,["thinkingConfig"],w);const A=s(n,["topK"]);A!=null&&u(e,["topK"],A);const I=s(n,["topP"]);if(I!=null&&u(e,["topP"],I),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function s0(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function l0(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function u0(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topP"],l);const a=s(n,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","speechConfig"],ru(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const h=s(n,["enableAffectiveDialog"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],n0(ve(E)));const S=s(n,["tools"]);if(e!==void 0&&S!=null){let A=zt(S);Array.isArray(A)&&(A=A.map(I=>E0($t(I)))),u(e,["setup","tools"],A)}const T=s(n,["sessionResumption"]);e!==void 0&&T!=null&&u(e,["setup","sessionResumption"],v0(T));const y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","outputAudioTranscription"],g);const v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&u(e,["setup","realtimeInputConfig"],v);const C=s(n,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const w=s(n,["proactivity"]);if(e!==void 0&&w!=null&&u(e,["setup","proactivity"],w),s(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function a0(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],i0(o));const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topP"],l);const a=s(n,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","speechConfig"],ru(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const h=s(n,["enableAffectiveDialog"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],ve(E));const S=s(n,["tools"]);if(e!==void 0&&S!=null){let I=zt(S);Array.isArray(I)&&(I=I.map(x=>S0($t(x)))),u(e,["setup","tools"],I)}const T=s(n,["sessionResumption"]);e!==void 0&&T!=null&&u(e,["setup","sessionResumption"],T);const y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","outputAudioTranscription"],g);const v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&u(e,["setup","realtimeInputConfig"],v);const C=s(n,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const w=s(n,["proactivity"]);e!==void 0&&w!=null&&u(e,["setup","proactivity"],w);const A=s(n,["explicitVadSignal"]);return e!==void 0&&A!=null&&u(e,["setup","explicitVadSignal"],A),t}function c0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["setup","model"],O(n,o));const r=s(e,["config"]);return r!=null&&u(t,["config"],u0(r,t)),t}function d0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["setup","model"],O(n,o));const r=s(e,["config"]);return r!=null&&u(t,["config"],a0(r,t)),t}function f0(n){const e={},t=s(n,["musicGenerationConfig"]);return t!=null&&u(e,["musicGenerationConfig"],t),e}function p0(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["weightedPrompts"],o)}return e}function m0(n){const e={},t=s(n,["media"]);if(t!=null){let d=cp(t);Array.isArray(d)&&(d=d.map(f=>Tr(f))),u(e,["mediaChunks"],d)}const o=s(n,["audio"]);o!=null&&u(e,["audio"],Tr(fp(o)));const r=s(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const i=s(n,["video"]);i!=null&&u(e,["video"],Tr(dp(i)));const l=s(n,["text"]);l!=null&&u(e,["text"],l);const a=s(n,["activityStart"]);a!=null&&u(e,["activityStart"],a);const c=s(n,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function h0(n){const e={},t=s(n,["media"]);if(t!=null){let d=cp(t);Array.isArray(d)&&(d=d.map(f=>f)),u(e,["mediaChunks"],d)}const o=s(n,["audio"]);o!=null&&u(e,["audio"],fp(o));const r=s(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const i=s(n,["video"]);i!=null&&u(e,["video"],dp(i));const l=s(n,["text"]);l!=null&&u(e,["text"],l);const a=s(n,["activityStart"]);a!=null&&u(e,["activityStart"],a);const c=s(n,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function g0(n){const e={},t=s(n,["setupComplete"]);t!=null&&u(e,["setupComplete"],t);const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],o);const r=s(n,["toolCall"]);r!=null&&u(e,["toolCall"],r);const i=s(n,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);const l=s(n,["usageMetadata"]);l!=null&&u(e,["usageMetadata"],_0(l));const a=s(n,["goAway"]);a!=null&&u(e,["goAway"],a);const c=s(n,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);const d=s(n,["voiceActivityDetectionSignal"]);return d!=null&&u(e,["voiceActivityDetectionSignal"],d),e}function y0(n){const e={},t=s(n,["mediaResolution"]);t!=null&&u(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&u(e,["fileData"],t0(i));const l=s(n,["functionCall"]);l!=null&&u(e,["functionCall"],o0(l));const a=s(n,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],Tr(c));const d=s(n,["text"]);d!=null&&u(e,["text"],d);const f=s(n,["thought"]);f!=null&&u(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function v0(n){const e={},t=s(n,["handle"]);if(t!=null&&u(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function E0(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&u(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);const r=s(n,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),u(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&u(e,["googleMaps"],s0(l));const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],l0(a));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function S0(n){const e={},t=s(n,["retrieval"]);t!=null&&u(e,["retrieval"],t);const o=s(n,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(n,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);const i=s(n,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);const l=s(n,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>r0(p))),u(e,["functionDeclarations"],m)}const a=s(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);const f=s(n,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function _0(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&u(e,["promptTokenCount"],t);const o=s(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=s(n,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const i=s(n,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);const l=s(n,["thoughtsTokenCount"]);l!=null&&u(e,["thoughtsTokenCount"],l);const a=s(n,["totalTokenCount"]);a!=null&&u(e,["totalTokenCount"],a);const c=s(n,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),u(e,["promptTokensDetails"],h)}const d=s(n,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),u(e,["cacheTokensDetails"],h)}const f=s(n,["candidatesTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),u(e,["responseTokensDetails"],h)}const m=s(n,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),u(e,["toolUsePromptTokensDetails"],h)}const p=s(n,["trafficType"]);return p!=null&&u(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T0(n){const e={},t=s(n,["data"]);if(t!=null&&u(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function C0(n){const e={},t=s(n,["content"]);t!=null&&u(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],w0(o));const r=s(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const i=s(n,["finishReason"]);i!=null&&u(e,["finishReason"],i);const l=s(n,["avgLogprobs"]);l!=null&&u(e,["avgLogprobs"],l);const a=s(n,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const c=s(n,["index"]);c!=null&&u(e,["index"],c);const d=s(n,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);const f=s(n,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),u(e,["safetyRatings"],p)}const m=s(n,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],m),e}function w0(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function I0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let i=$e(r);Array.isArray(i)&&(i=i.map(l=>l)),u(t,["contents"],i)}return t}function A0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["tokensInfo"],r)}return e}function x0(n){const e={},t=s(n,["values"]);t!=null&&u(e,["values"],t);const o=s(n,["statistics"]);return o!=null&&u(e,["statistics"],R0(o)),e}function R0(n){const e={},t=s(n,["truncated"]);t!=null&&u(e,["truncated"],t);const o=s(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function gi(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>VE(i))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function N0(n){const e={},t=s(n,["controlType"]);t!=null&&u(e,["controlType"],t);const o=s(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function P0(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function M0(n,e){const t={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],ve(o));const r=s(n,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>Ap(a))),u(e,["tools"],l)}const i=s(n,["generationConfig"]);return e!==void 0&&i!=null&&u(e,["generationConfig"],TE(i)),t}function k0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(a=>gi(a))),u(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&P0(i),t}function D0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(a=>a)),u(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&M0(i,t),t}function L0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const r=s(n,["cachedContentTokenCount"]);return r!=null&&u(e,["cachedContentTokenCount"],r),e}function U0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function F0(n,e){const t={},o=s(e,["model"]);return o!=null&&u(t,["_url","name"],O(n,o)),t}function V0(n,e){const t={},o=s(e,["model"]);return o!=null&&u(t,["_url","name"],O(n,o)),t}function G0(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function H0(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function q0(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const a=s(n,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const c=s(n,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&u(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const h=s(n,["language"]);e!==void 0&&h!=null&&u(e,["parameters","language"],h);const E=s(n,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const S=s(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S);const T=s(n,["addWatermark"]);e!==void 0&&T!=null&&u(e,["parameters","addWatermark"],T);const y=s(n,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const g=s(n,["editMode"]);e!==void 0&&g!=null&&u(e,["parameters","editMode"],g);const v=s(n,["baseSteps"]);return e!==void 0&&v!=null&&u(e,["parameters","editConfig","baseSteps"],v),t}function B0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>zE(c))),u(t,["instances[0]","referenceImages"],a)}const l=s(e,["config"]);return l!=null&&q0(l,t),t}function $0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>yi(i))),u(e,["generatedImages"],r)}return e}function z0(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function J0(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["instances[]","title"],r);const i=s(n,["outputDimensionality"]);e!==void 0&&i!=null&&u(e,["parameters","outputDimensionality"],i);const l=s(n,["mimeType"]);e!==void 0&&l!=null&&u(e,["instances[]","mimeType"],l);const a=s(n,["autoTruncate"]);return e!==void 0&&a!=null&&u(e,["parameters","autoTruncate"],a),t}function O0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let a=nu(n,r);Array.isArray(a)&&(a=a.map(c=>c)),u(t,["requests[]","content"],a)}const i=s(e,["config"]);i!=null&&z0(i,t);const l=s(e,["model"]);return l!==void 0&&u(t,["requests[]","model"],O(n,l)),t}function W0(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let l=nu(n,r);Array.isArray(l)&&(l=l.map(a=>a)),u(t,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&J0(i,t),t}function K0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["embeddings"],i)}const r=s(n,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function Y0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>x0(l))),u(e,["embeddings"],i)}const r=s(n,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function Q0(n){const e={},t=s(n,["endpoint"]);t!=null&&u(e,["name"],t);const o=s(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function X0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function b0(n){const e={},t=s(n,["id"]);t!=null&&u(e,["id"],t);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);if(r!=null&&u(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Z0(n){const e={},t=s(n,["allowedFunctionNames"]);t!=null&&u(e,["allowedFunctionNames"],t);const o=s(n,["mode"]);if(o!=null&&u(e,["mode"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function j0(n){const e={},t=s(n,["description"]);t!=null&&u(e,["description"],t);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&u(e,["response"],l);const a=s(n,["responseJsonSchema"]);if(a!=null&&u(e,["responseJsonSchema"],a),s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eE(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],gi(ve(r)));const i=s(e,["temperature"]);i!=null&&u(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&u(o,["topP"],l);const a=s(e,["topK"]);a!=null&&u(o,["topK"],a);const c=s(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&u(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&u(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&u(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&u(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&u(o,["seed"],S);const T=s(e,["responseMimeType"]);T!=null&&u(o,["responseMimeType"],T);const y=s(e,["responseSchema"]);y!=null&&u(o,["responseSchema"],tu(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&u(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(t!==void 0&&v!=null){let H=v;Array.isArray(H)&&(H=H.map(L=>JE(L))),u(t,["safetySettings"],H)}const C=s(e,["tools"]);if(t!==void 0&&C!=null){let H=zt(C);Array.isArray(H)&&(H=H.map(L=>bE($t(L)))),u(t,["tools"],H)}const w=s(e,["toolConfig"]);if(t!==void 0&&w!=null&&u(t,["toolConfig"],XE(w)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);t!==void 0&&A!=null&&u(t,["cachedContent"],_n(n,A));const I=s(e,["responseModalities"]);I!=null&&u(o,["responseModalities"],I);const x=s(e,["mediaResolution"]);x!=null&&u(o,["mediaResolution"],x);const R=s(e,["speechConfig"]);if(R!=null&&u(o,["speechConfig"],ou(R)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=s(e,["thinkingConfig"]);P!=null&&u(o,["thinkingConfig"],P);const G=s(e,["imageConfig"]);G!=null&&u(o,["imageConfig"],xE(G));const z=s(e,["enableEnhancedCivicAnswers"]);return z!=null&&u(o,["enableEnhancedCivicAnswers"],z),o}function nE(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],ve(r));const i=s(e,["temperature"]);i!=null&&u(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&u(o,["topP"],l);const a=s(e,["topK"]);a!=null&&u(o,["topK"],a);const c=s(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&u(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&u(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&u(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&u(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&u(o,["seed"],S);const T=s(e,["responseMimeType"]);T!=null&&u(o,["responseMimeType"],T);const y=s(e,["responseSchema"]);y!=null&&u(o,["responseSchema"],tu(y));const g=s(e,["responseJsonSchema"]);g!=null&&u(o,["responseJsonSchema"],g);const v=s(e,["routingConfig"]);v!=null&&u(o,["routingConfig"],v);const C=s(e,["modelSelectionConfig"]);C!=null&&u(o,["modelConfig"],C);const w=s(e,["safetySettings"]);if(t!==void 0&&w!=null){let q=w;Array.isArray(q)&&(q=q.map(Se=>Se)),u(t,["safetySettings"],q)}const A=s(e,["tools"]);if(t!==void 0&&A!=null){let q=zt(A);Array.isArray(q)&&(q=q.map(Se=>Ap($t(Se)))),u(t,["tools"],q)}const I=s(e,["toolConfig"]);t!==void 0&&I!=null&&u(t,["toolConfig"],I);const x=s(e,["labels"]);t!==void 0&&x!=null&&u(t,["labels"],x);const R=s(e,["cachedContent"]);t!==void 0&&R!=null&&u(t,["cachedContent"],_n(n,R));const P=s(e,["responseModalities"]);P!=null&&u(o,["responseModalities"],P);const G=s(e,["mediaResolution"]);G!=null&&u(o,["mediaResolution"],G);const z=s(e,["speechConfig"]);z!=null&&u(o,["speechConfig"],ou(z));const H=s(e,["audioTimestamp"]);H!=null&&u(o,["audioTimestamp"],H);const L=s(e,["thinkingConfig"]);L!=null&&u(o,["thinkingConfig"],L);const B=s(e,["imageConfig"]);if(B!=null&&u(o,["imageConfig"],RE(B)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Mc(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(a=>gi(a))),u(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&u(t,["generationConfig"],eE(n,i,t)),t}function kc(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(a=>a)),u(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&u(t,["generationConfig"],nE(n,i,t)),t}function Dc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>C0(d))),u(e,["candidates"],c)}const r=s(n,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const i=s(n,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const l=s(n,["responseId"]);l!=null&&u(e,["responseId"],l);const a=s(n,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Lc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),u(e,["candidates"],d)}const r=s(n,["createTime"]);r!=null&&u(e,["createTime"],r);const i=s(n,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);const l=s(n,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const a=s(n,["responseId"]);a!=null&&u(e,["responseId"],a);const c=s(n,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function tE(n,e){const t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);const i=s(n,["guidanceScale"]);if(e!==void 0&&i!=null&&u(e,["parameters","guidanceScale"],i),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);const a=s(n,["personGeneration"]);e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a);const c=s(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);const d=s(n,["includeRaiReason"]);e!==void 0&&d!=null&&u(e,["parameters","includeRaiReason"],d);const f=s(n,["language"]);e!==void 0&&f!=null&&u(e,["parameters","language"],f);const m=s(n,["outputMimeType"]);e!==void 0&&m!=null&&u(e,["parameters","outputOptions","mimeType"],m);const p=s(n,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=s(n,["imageSize"]);if(e!==void 0&&h!=null&&u(e,["parameters","sampleImageSize"],h),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function oE(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const a=s(n,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const c=s(n,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&u(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const h=s(n,["language"]);e!==void 0&&h!=null&&u(e,["parameters","language"],h);const E=s(n,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const S=s(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S);const T=s(n,["addWatermark"]);e!==void 0&&T!=null&&u(e,["parameters","addWatermark"],T);const y=s(n,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const g=s(n,["imageSize"]);e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g);const v=s(n,["enhancePrompt"]);return e!==void 0&&v!=null&&u(e,["parameters","enhancePrompt"],v),t}function rE(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&tE(i,t),t}function iE(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&oE(i,t),t}function sE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>vE(l))),u(e,["generatedImages"],i)}const r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],wp(r)),e}function lE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>yi(l))),u(e,["generatedImages"],i)}const r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],Ip(r)),e}function uE(n,e){const t={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(n,["durationSeconds"]);if(e!==void 0&&r!=null&&u(e,["parameters","durationSeconds"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(n,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);const l=s(n,["resolution"]);e!==void 0&&l!=null&&u(e,["parameters","resolution"],l);const a=s(n,["personGeneration"]);if(e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const d=s(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&u(e,["parameters","enhancePrompt"],d),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(n,["lastFrame"]);e!==void 0&&f!=null&&u(e,["instances[0]","lastFrame"],vi(f));const m=s(n,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>cS(h))),u(e,["instances[0]","referenceImages"],p)}if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function aE(n,e){const t={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const i=s(n,["fps"]);e!==void 0&&i!=null&&u(e,["parameters","fps"],i);const l=s(n,["durationSeconds"]);e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l);const a=s(n,["seed"]);e!==void 0&&a!=null&&u(e,["parameters","seed"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=s(n,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const m=s(n,["pubsubTopic"]);e!==void 0&&m!=null&&u(e,["parameters","pubsubTopic"],m);const p=s(n,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const h=s(n,["enhancePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","enhancePrompt"],h);const E=s(n,["generateAudio"]);e!==void 0&&E!=null&&u(e,["parameters","generateAudio"],E);const S=s(n,["lastFrame"]);e!==void 0&&S!=null&&u(e,["instances[0]","lastFrame"],nn(S));const T=s(n,["referenceImages"]);if(e!==void 0&&T!=null){let v=T;Array.isArray(v)&&(v=v.map(C=>dS(C))),u(e,["instances[0]","referenceImages"],v)}const y=s(n,["mask"]);e!==void 0&&y!=null&&u(e,["instances[0]","mask"],aS(y));const g=s(n,["compressionQuality"]);return e!==void 0&&g!=null&&u(e,["parameters","compressionQuality"],g),t}function cE(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response","generateVideoResponse"]);return l!=null&&u(e,["response"],mE(l)),e}function dE(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response"]);return l!=null&&u(e,["response"],hE(l)),e}function fE(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&u(t,["instances[0]","image"],vi(i));const l=s(e,["video"]);l!=null&&u(t,["instances[0]","video"],xp(l));const a=s(e,["source"]);a!=null&&gE(a,t);const c=s(e,["config"]);return c!=null&&uE(c,t),t}function pE(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&u(t,["instances[0]","image"],nn(i));const l=s(e,["video"]);l!=null&&u(t,["instances[0]","video"],Rp(l));const a=s(e,["source"]);a!=null&&yE(a,t);const c=s(e,["config"]);return c!=null&&aE(c,t),t}function mE(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>SE(l))),u(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function hE(n){const e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>_E(l))),u(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function gE(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],vi(r));const i=s(n,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],xp(i)),t}function yE(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],nn(r));const i=s(n,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],Rp(i)),t}function vE(n){const e={},t=s(n,["_self"]);t!=null&&u(e,["image"],NE(t));const o=s(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(n,["_self"]);return r!=null&&u(e,["safetyAttributes"],wp(r)),e}function yi(n){const e={},t=s(n,["_self"]);t!=null&&u(e,["image"],Cp(t));const o=s(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(n,["_self"]);r!=null&&u(e,["safetyAttributes"],Ip(r));const i=s(n,["prompt"]);return i!=null&&u(e,["enhancedPrompt"],i),e}function EE(n){const e={},t=s(n,["_self"]);t!=null&&u(e,["mask"],Cp(t));const o=s(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["labels"],r)}return e}function SE(n){const e={},t=s(n,["video"]);return t!=null&&u(e,["video"],lS(t)),e}function _E(n){const e={},t=s(n,["_self"]);return t!=null&&u(e,["video"],uS(t)),e}function TE(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&u(e,["modelConfig"],t);const o=s(n,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);const r=s(n,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);const i=s(n,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const l=s(n,["enableAffectiveDialog"]);l!=null&&u(e,["enableAffectiveDialog"],l);const a=s(n,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const c=s(n,["logprobs"]);c!=null&&u(e,["logprobs"],c);const d=s(n,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);const f=s(n,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const m=s(n,["presencePenalty"]);m!=null&&u(e,["presencePenalty"],m);const p=s(n,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const h=s(n,["responseMimeType"]);h!=null&&u(e,["responseMimeType"],h);const E=s(n,["responseModalities"]);E!=null&&u(e,["responseModalities"],E);const S=s(n,["responseSchema"]);S!=null&&u(e,["responseSchema"],S);const T=s(n,["routingConfig"]);T!=null&&u(e,["routingConfig"],T);const y=s(n,["seed"]);y!=null&&u(e,["seed"],y);const g=s(n,["speechConfig"]);g!=null&&u(e,["speechConfig"],g);const v=s(n,["stopSequences"]);v!=null&&u(e,["stopSequences"],v);const C=s(n,["temperature"]);C!=null&&u(e,["temperature"],C);const w=s(n,["thinkingConfig"]);w!=null&&u(e,["thinkingConfig"],w);const A=s(n,["topK"]);A!=null&&u(e,["topK"],A);const I=s(n,["topP"]);if(I!=null&&u(e,["topP"],I),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function CE(n,e){const t={},o=s(e,["model"]);return o!=null&&u(t,["_url","name"],O(n,o)),t}function wE(n,e){const t={},o=s(e,["model"]);return o!=null&&u(t,["_url","name"],O(n,o)),t}function IE(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function AE(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function xE(n){const e={},t=s(n,["aspectRatio"]);t!=null&&u(e,["aspectRatio"],t);const o=s(n,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),s(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function RE(n){const e={},t=s(n,["aspectRatio"]);t!=null&&u(e,["aspectRatio"],t);const o=s(n,["imageSize"]);o!=null&&u(e,["imageSize"],o);const r=s(n,["personGeneration"]);r!=null&&u(e,["personGeneration"],r);const i=s(n,["outputMimeType"]);i!=null&&u(e,["imageOutputOptions","mimeType"],i);const l=s(n,["outputCompressionQuality"]);return l!=null&&u(e,["imageOutputOptions","compressionQuality"],l),e}function NE(n){const e={},t=s(n,["bytesBase64Encoded"]);t!=null&&u(e,["imageBytes"],$n(t));const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Cp(n){const e={},t=s(n,["gcsUri"]);t!=null&&u(e,["gcsUri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],$n(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function vi(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(n,["imageBytes"]);t!=null&&u(e,["bytesBase64Encoded"],$n(t));const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function nn(n){const e={},t=s(n,["gcsUri"]);t!=null&&u(e,["gcsUri"],t);const o=s(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],$n(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function PE(n,e,t){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&u(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&u(t,["_query","pageToken"],i);const l=s(e,["filter"]);t!==void 0&&l!=null&&u(t,["_query","filter"],l);const a=s(e,["queryBase"]);return t!==void 0&&a!=null&&u(t,["_url","models_url"],gp(n,a)),o}function ME(n,e,t){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&u(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&u(t,["_query","pageToken"],i);const l=s(e,["filter"]);t!==void 0&&l!=null&&u(t,["_query","filter"],l);const a=s(e,["queryBase"]);return t!==void 0&&a!=null&&u(t,["_url","models_url"],gp(n,a)),o}function kE(n,e){const t={},o=s(e,["config"]);return o!=null&&PE(n,o,t),t}function DE(n,e){const t={},o=s(e,["config"]);return o!=null&&ME(n,o,t),t}function LE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["_self"]);if(r!=null){let i=yp(r);Array.isArray(i)&&(i=i.map(l=>Qs(l))),u(e,["models"],i)}return e}function UE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["_self"]);if(r!=null){let i=yp(r);Array.isArray(i)&&(i=i.map(l=>Xs(l))),u(e,["models"],i)}return e}function FE(n){const e={},t=s(n,["maskMode"]);t!=null&&u(e,["maskMode"],t);const o=s(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const r=s(n,["maskDilation"]);return r!=null&&u(e,["dilation"],r),e}function Qs(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const i=s(n,["version"]);i!=null&&u(e,["version"],i);const l=s(n,["_self"]);l!=null&&u(e,["tunedModelInfo"],ZE(l));const a=s(n,["inputTokenLimit"]);a!=null&&u(e,["inputTokenLimit"],a);const c=s(n,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);const d=s(n,["supportedGenerationMethods"]);d!=null&&u(e,["supportedActions"],d);const f=s(n,["temperature"]);f!=null&&u(e,["temperature"],f);const m=s(n,["maxTemperature"]);m!=null&&u(e,["maxTemperature"],m);const p=s(n,["topP"]);p!=null&&u(e,["topP"],p);const h=s(n,["topK"]);h!=null&&u(e,["topK"],h);const E=s(n,["thinking"]);return E!=null&&u(e,["thinking"],E),e}function Xs(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const i=s(n,["versionId"]);i!=null&&u(e,["version"],i);const l=s(n,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>Q0(p))),u(e,["endpoints"],m)}const a=s(n,["labels"]);a!=null&&u(e,["labels"],a);const c=s(n,["_self"]);c!=null&&u(e,["tunedModelInfo"],jE(c));const d=s(n,["defaultCheckpointId"]);d!=null&&u(e,["defaultCheckpointId"],d);const f=s(n,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),u(e,["checkpoints"],m)}return e}function VE(n){const e={},t=s(n,["mediaResolution"]);t!=null&&u(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&u(e,["fileData"],X0(i));const l=s(n,["functionCall"]);l!=null&&u(e,["functionCall"],b0(l));const a=s(n,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],T0(c));const d=s(n,["text"]);d!=null&&u(e,["text"],d);const f=s(n,["thought"]);f!=null&&u(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function GE(n){const e={},t=s(n,["productImage"]);return t!=null&&u(e,["image"],nn(t)),e}function HE(n,e){const t={},o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["baseSteps"]);e!==void 0&&r!=null&&u(e,["parameters","baseSteps"],r);const i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const l=s(n,["seed"]);e!==void 0&&l!=null&&u(e,["parameters","seed"],l);const a=s(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const c=s(n,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const d=s(n,["addWatermark"]);e!==void 0&&d!=null&&u(e,["parameters","addWatermark"],d);const f=s(n,["outputMimeType"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","mimeType"],f);const m=s(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&u(e,["parameters","outputOptions","compressionQuality"],m);const p=s(n,["enhancePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","enhancePrompt"],p);const h=s(n,["labels"]);return e!==void 0&&h!=null&&u(e,["labels"],h),t}function qE(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["source"]);r!=null&&$E(r,t);const i=s(e,["config"]);return i!=null&&HE(i,t),t}function BE(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>yi(r))),u(e,["generatedImages"],o)}return e}function $E(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(n,["personImage"]);e!==void 0&&r!=null&&u(e,["instances[0]","personImage","image"],nn(r));const i=s(n,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>GE(a))),u(e,["instances[0]","productImages"],l)}return t}function zE(n){const e={},t=s(n,["referenceImage"]);t!=null&&u(e,["referenceImage"],nn(t));const o=s(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const r=s(n,["referenceType"]);r!=null&&u(e,["referenceType"],r);const i=s(n,["maskImageConfig"]);i!=null&&u(e,["maskImageConfig"],FE(i));const l=s(n,["controlImageConfig"]);l!=null&&u(e,["controlImageConfig"],N0(l));const a=s(n,["styleImageConfig"]);a!=null&&u(e,["styleImageConfig"],a);const c=s(n,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function wp(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&u(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function Ip(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&u(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function JE(n){const e={},t=s(n,["category"]);if(t!=null&&u(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function OE(n){const e={},t=s(n,["image"]);return t!=null&&u(e,["image"],nn(t)),e}function WE(n,e){const t={},o=s(n,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const r=s(n,["maxPredictions"]);e!==void 0&&r!=null&&u(e,["parameters","maxPredictions"],r);const i=s(n,["confidenceThreshold"]);e!==void 0&&i!=null&&u(e,["parameters","confidenceThreshold"],i);const l=s(n,["maskDilation"]);e!==void 0&&l!=null&&u(e,["parameters","maskDilation"],l);const a=s(n,["binaryColorThreshold"]);e!==void 0&&a!=null&&u(e,["parameters","binaryColorThreshold"],a);const c=s(n,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),t}function KE(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["source"]);r!=null&&QE(r,t);const i=s(e,["config"]);return i!=null&&WE(i,t),t}function YE(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>EE(r))),u(e,["generatedMasks"],o)}return e}function QE(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],nn(r));const i=s(n,["scribbleImage"]);return e!==void 0&&i!=null&&u(e,["instances[0]","scribble"],OE(i)),t}function XE(n){const e={},t=s(n,["retrievalConfig"]);t!=null&&u(e,["retrievalConfig"],t);const o=s(n,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],Z0(o)),e}function bE(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&u(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);const r=s(n,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),u(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&u(e,["googleMaps"],IE(l));const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],AE(a));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function Ap(n){const e={},t=s(n,["retrieval"]);t!=null&&u(e,["retrieval"],t);const o=s(n,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(n,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);const i=s(n,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);const l=s(n,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>j0(p))),u(e,["functionDeclarations"],m)}const a=s(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);const f=s(n,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function ZE(n){const e={},t=s(n,["baseModel"]);t!=null&&u(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function jE(n){const e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&u(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function eS(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),t}function nS(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),t}function tS(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","name"],O(n,o));const r=s(e,["config"]);return r!=null&&eS(r,t),t}function oS(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["config"]);return r!=null&&nS(r,t),t}function rS(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&u(e,["parameters","safetySetting"],r);const i=s(n,["personGeneration"]);e!==void 0&&i!=null&&u(e,["parameters","personGeneration"],i);const l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&u(e,["parameters","includeRaiReason"],l);const a=s(n,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const c=s(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);const d=s(n,["enhanceInputImage"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(n,["labels"]);e!==void 0&&m!=null&&u(e,["labels"],m);const p=s(n,["numberOfImages"]);e!==void 0&&p!=null&&u(e,["parameters","sampleCount"],p);const h=s(n,["mode"]);return e!==void 0&&h!=null&&u(e,["parameters","mode"],h),t}function iS(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["_url","model"],O(n,o));const r=s(e,["image"]);r!=null&&u(t,["instances[0]","image"],nn(r));const i=s(e,["upscaleFactor"]);i!=null&&u(t,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&rS(l,t),t}function sS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>yi(i))),u(e,["generatedImages"],r)}return e}function lS(n){const e={},t=s(n,["uri"]);t!=null&&u(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&u(e,["videoBytes"],$n(o));const r=s(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function uS(n){const e={},t=s(n,["gcsUri"]);t!=null&&u(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],$n(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function aS(n){const e={},t=s(n,["image"]);t!=null&&u(e,["_self"],nn(t));const o=s(n,["maskMode"]);return o!=null&&u(e,["maskMode"],o),e}function cS(n){const e={},t=s(n,["image"]);t!=null&&u(e,["image"],vi(t));const o=s(n,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function dS(n){const e={},t=s(n,["image"]);t!=null&&u(e,["image"],nn(t));const o=s(n,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function xp(n){const e={},t=s(n,["uri"]);t!=null&&u(e,["uri"],t);const o=s(n,["videoBytes"]);o!=null&&u(e,["encodedVideo"],$n(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["encoding"],r),e}function Rp(n){const e={},t=s(n,["uri"]);t!=null&&u(e,["gcsUri"],t);const o=s(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],$n(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&u(e,["displayName"],o),t}function pS(n){const e={},t=s(n,["config"]);return t!=null&&fS(t,e),e}function mS(n,e){const t={},o=s(n,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),t}function hS(n){const e={},t=s(n,["name"]);t!=null&&u(e,["_url","name"],t);const o=s(n,["config"]);return o!=null&&mS(o,e),e}function gS(n){const e={},t=s(n,["name"]);return t!=null&&u(e,["_url","name"],t),e}function yS(n,e){const t={},o=s(n,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["customMetadata"],i)}const r=s(n,["chunkingConfig"]);return e!==void 0&&r!=null&&u(e,["chunkingConfig"],r),t}function vS(n){const e={},t=s(n,["name"]);t!=null&&u(e,["name"],t);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const i=s(n,["error"]);i!=null&&u(e,["error"],i);const l=s(n,["response"]);return l!=null&&u(e,["response"],SS(l)),e}function ES(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&u(e,["_url","file_search_store_name"],t);const o=s(n,["fileName"]);o!=null&&u(e,["fileName"],o);const r=s(n,["config"]);return r!=null&&yS(r,e),e}function SS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&u(e,["parent"],o);const r=s(n,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function _S(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function TS(n){const e={},t=s(n,["config"]);return t!=null&&_S(t,e),e}function CS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["fileSearchStores"],i)}return e}function Np(n,e){const t={},o=s(n,["mimeType"]);e!==void 0&&o!=null&&u(e,["mimeType"],o);const r=s(n,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const i=s(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["customMetadata"],a)}const l=s(n,["chunkingConfig"]);return e!==void 0&&l!=null&&u(e,["chunkingConfig"],l),t}function wS(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&u(e,["_url","file_search_store_name"],t);const o=s(n,["config"]);return o!=null&&Np(o,e),e}function IS(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AS="Content-Type",xS="X-Server-Timeout",RS="User-Agent",bs="x-goog-api-client",NS="1.35.0",PS=`google-genai-sdk/${NS}`,MS="v1beta1",kS="v1beta";class DS{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:MS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:kS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[l,a]of Object.entries(e.queryParams))r.searchParams.append(l,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(t))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o,r){if(t&&t.timeout||r){const i=new AbortController,l=i.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const a=setTimeout(()=>i.abort(),t.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return t&&t.extraBody!==null&&LS(e,t.extraBody),e.headers=await this.getHeadersInternal(t,o),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await Uc(r),new Ws(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await Uc(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Ze(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const a="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield F(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),T=S.status,y=S.code,g=`got status: ${T}. ${JSON.stringify(E)}`;if(y>=400&&y<600)throw new hi({message:g,status:y})}}catch(E){if(E.name==="ApiError")throw E}l+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const T of c){const y=l.indexOf(T);y!==-1&&(p===-1||y<p)&&(p=y,h=T.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+h);const S=E.trim();if(S.startsWith(a)){const T=S.substring(a.length).trim();try{const y=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield F(new Ws(y))}catch(y){throw new Error(`exception parsing stream chunk ${T}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=PS+" "+this.clientOptions.userAgentExtra;return e[RS]=t,e[bs]=t,e[AS]="application/json",e}async getHeadersInternal(e,t){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(xS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,t),o}getFileName(e){var t;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}async uploadFile(e,t){var o;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const a=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:l.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const c={file:r},d=this.getFileName(e),f=M("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,t==null?void 0:t.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,t,o){var r;const i=this.clientOptions.uploader,l=await i.stat(t),a=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),m={};o!=null&&Np(o,m);const p=await this.fetchUploadUrl(d,a,c,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(t,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,o,r,i,l){var a;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=d==null?void 0:d.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Uc(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw t>=400&&t<600?new hi({message:r,status:t}):new Error(r)}}function LS(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const i=JSON.parse(n.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const a=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=a[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?a[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),a[c]=d)}return a}const r=o(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const US="mcp_used/unknown";let FS=!1;function Pp(n){for(const e of n)if(VS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return FS}function Mp(n){var e;const t=(e=n[bs])!==null&&e!==void 0?e:"";n[bs]=(t+` ${US}`).trimStart()}function VS(n){return n!==null&&typeof n=="object"&&n instanceof iu}function GS(n){return Ze(this,arguments,function*(t,o=100){let r,i=0;for(;i<o;){const l=yield F(t.listTools({cursor:r}));for(const a of l.tools)yield yield F(a),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class iu{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new iu(e,t)}async initialize(){var e,t,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var a=!0,c=(t=void 0,je(GS(f))),d;d=await c.next(),e=d.done,!e;a=!0){r=d.value,a=!1;const m=r;l.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){t={error:m}}finally{try{!a&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),gy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HS(n,e,t){const o=new uy;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),e(o)}class qS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=zS(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let d=()=>{};const f=new Promise(v=>{d=v}),m=e.callbacks,p=function(){d({})},h=this.apiClient,E={onopen:p,onmessage:v=>{HS(h,m.onmessage,v)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(v){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(v){}},S=this.webSocketFactory.create(c,$S(l),E);S.connect(),await f;const g={setup:{model:O(this.apiClient,e.model)}};return S.send(JSON.stringify(g)),new BS(S,this.apiClient)}}class BS{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=p0(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=f0(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Tt.PLAY)}pause(){this.sendPlaybackControl(Tt.PAUSE)}stop(){this.sendPlaybackControl(Tt.STOP)}resetContext(){this.sendPlaybackControl(Tt.RESET_CONTEXT)}close(){this.conn.close()}}function $S(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function zS(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OS(n,e,t){const o=new ly;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const i=JSON.parse(r);if(n.isVertexAI()){const l=g0(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class WS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new qS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,r,i,l,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Pp(e.config.tools)&&Mp(m);const p=XS(m);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const R=this.apiClient.getApiKey();let P="BidiGenerateContent",G="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",G="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${P}?${G}=${R}`}let h=()=>{};const E=new Promise(R=>{h=R}),S=e.callbacks,T=function(){var R;(R=S==null?void 0:S.onopen)===null||R===void 0||R.call(S),h({})},y=this.apiClient,g={onopen:T,onmessage:R=>{OS(y,S.onmessage,R)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(R){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(R){}},v=this.webSocketFactory.create(f,QS(p),g);v.connect(),await E;let C=O(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const R=this.apiClient.getProject(),P=this.apiClient.getLocation();C=`projects/${R}/locations/${P}/`+C}let w={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Kr.AUDIO]}:e.config.responseModalities=[Kr.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[],I=[];for(const R of A)if(this.isCallableTool(R)){const P=R;I.push(await P.tool())}else I.push(R);I.length>0&&(e.config.tools=I);const x={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=d0(this.apiClient,x):w=c0(this.apiClient,x),delete w.config,v.send(JSON.stringify(w)),new YS(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const KS={turnComplete:!0};class YS{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=$e(t.turns),e.isVertexAI()||(o=o.map(r=>gi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(JS)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},KS),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:h0(e)}:t={realtimeInput:m0(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function QS(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function XS(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fc=10;function Vc(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Mt(l)){r=!0;break}if(!r)return!0;const i=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Mt(n){return"callTool"in n&&typeof n.callTool=="function"}function bS(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Mt(r)))!==null&&o!==void 0?o:!1}function Gc(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(Mt(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&t.push(r)}),t}function Hc(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZS extends Sn{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,r,i,l,a;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!bS(t)||Vc(t.config))return await this.generateContentInternal(c);const d=Gc(t);if(d.length>0){const S=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let f,m;const p=$e(c.contents),h=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Fc;let E=0;for(;E<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,T=[];for(const y of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Mt(y)){const v=await y.callTool(f.functionCalls);T.push(...v)}E++,m={role:"user",parts:T},c.contents=$e(c.contents),c.contents.push(S),c.contents.push(m),Hc(c.config)&&(p.push(S),p.push(m))}return Hc(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{var o,r,i,l,a;if(this.maybeMoveToResponseJsonSchem(t),Vc(t.config)){const m=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(m)}const c=Gc(t);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(a=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let a;return i?a={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async t=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new lt(vn.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(l),l)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var o,r,i,l,a,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(i=t.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(a=t.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,r;const i=(t=e.config)===null||t===void 0?void 0:t.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>Mt(c)?await c.tool():c)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(a.config.tools=l,e.config&&e.config.tools&&Pp(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Mp(d),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return a}async initAfcToolsMap(e){var t,o,r;const i=new Map;for(const l of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Mt(l)){const a=l,c=await a.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,a)}}return i}async processAfcStream(e){var t,o,r;const i=(r=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Fc;let l=!1,a=0;const c=await this.initAfcToolsMap(e);return function(d,f,m){return Ze(this,arguments,function*(){for(var p,h,E,S,T,y;a<i;){l&&(a++,l=!1);const w=yield F(d.processParamsMaybeAddMcpUsage(m)),A=yield F(d.generateContentStreamInternal(w)),I=[],x=[];try{for(var g=!0,v=(h=void 0,je(A)),C;C=yield F(v.next()),p=C.done,!p;g=!0){S=C.value,g=!1;const R=S;if(yield yield F(R),R.candidates&&(!((T=R.candidates[0])===null||T===void 0)&&T.content)){x.push(R.candidates[0].content);for(const P of(y=R.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(a<i&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(P.functionCall.name)){const G=yield F(f.get(P.functionCall.name).callTool([P.functionCall]));I.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(R){h={error:R}}finally{try{!g&&!p&&(E=v.return)&&(yield F(E.call(v)))}finally{if(h)throw h.error}}if(I.length>0){l=!0;const R=new jt;R.candidates=[{content:{role:"user",parts:I}}],yield yield F(R);const P=[];P.push(...x),P.push({role:"user",parts:I});const G=$e(m.contents).concat(P);m.contents=G}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=kc(this.apiClient,e);return a=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Lc(f),p=new jt;return Object.assign(p,m),p})}else{const d=Mc(this.apiClient,e);return a=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Dc(f),p=new jt;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=kc(this.apiClient,e);return a=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Ze(this,arguments,function*(){var p,h,E,S;try{for(var T=!0,y=je(m),g;g=yield F(y.next()),p=g.done,!p;T=!0){S=g.value,T=!1;const v=S,C=Lc(yield F(v.json()));C.sdkHttpResponse={headers:v.headers};const w=new jt;Object.assign(w,C),yield yield F(w)}}catch(v){h={error:v}}finally{try{!T&&!p&&(E=y.return)&&(yield F(E.call(y)))}finally{if(h)throw h.error}}})})}else{const d=Mc(this.apiClient,e);return a=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return Ze(this,arguments,function*(){var p,h,E,S;try{for(var T=!0,y=je(m),g;g=yield F(y.next()),p=g.done,!p;T=!0){S=g.value,T=!1;const v=S,C=Dc(yield F(v.json()));C.sdkHttpResponse={headers:v.headers};const w=new jt;Object.assign(w,C),yield yield F(w)}}catch(v){h={error:v}}finally{try{!T&&!p&&(E=y.return)&&(yield F(E.call(y)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=W0(this.apiClient,e);return a=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Y0(f),p=new mc;return Object.assign(p,m),p})}else{const d=O0(this.apiClient,e);return a=M("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=K0(f),p=new mc;return Object.assign(p,m),p})}}async generateImagesInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=iE(this.apiClient,e);return a=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=lE(f),p=new hc;return Object.assign(p,m),p})}else{const d=rE(this.apiClient,e);return a=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=sE(f),p=new hc;return Object.assign(p,m),p})}}async editImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=B0(this.apiClient,e);return i=M("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=$0(c),f=new Xg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=iS(this.apiClient,e);return i=M("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=sS(c),f=new bg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=qE(this.apiClient,e);return i=M("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=BE(c),f=new Zg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=KE(this.apiClient,e);return i=M("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=YE(c),f=new jg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=wE(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}else{const d=CE(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Qs(f))}}async listInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=DE(this.apiClient,e);return a=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=UE(f),p=new gc;return Object.assign(p,m),p})}else{const d=kE(this.apiClient,e);return a=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=LE(f),p=new gc;return Object.assign(p,m),p})}}async update(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=oS(this.apiClient,e);return a=M("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}else{const d=tS(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Qs(f))}}async delete(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=V0(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=H0(f),p=new yc;return Object.assign(p,m),p})}else{const d=F0(this.apiClient,e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=G0(f),p=new yc;return Object.assign(p,m),p})}}async countTokens(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=D0(this.apiClient,e);return a=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=U0(f),p=new vc;return Object.assign(p,m),p})}else{const d=k0(this.apiClient,e);return a=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=L0(f),p=new vc;return Object.assign(p,m),p})}}async computeTokens(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=I0(this.apiClient,e);return i=M("{model}:computeTokens",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=A0(c),f=new ey;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=pE(this.apiClient,e);return a=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=dE(f),p=new Yr;return Object.assign(p,m),p})}else{const d=fE(this.apiClient,e);return a=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=cE(f),p=new Yr;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jS extends Sn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=Jg(e);return a=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=zg(e);return a=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=Fg(e);return i=M("{resourceName}:fetchPredictOperation",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(n){const e={},t=s(n,["data"]);if(t!=null&&u(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function n_(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>c_(i))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function t_(n,e,t){const o={},r=s(e,["expireTime"]);t!==void 0&&r!=null&&u(t,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);t!==void 0&&i!=null&&u(t,["newSessionExpireTime"],i);const l=s(e,["uses"]);t!==void 0&&l!=null&&u(t,["uses"],l);const a=s(e,["liveConnectConstraints"]);t!==void 0&&a!=null&&u(t,["bidiGenerateContentSetup"],a_(n,a));const c=s(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&u(t,["fieldMask"],c),o}function o_(n,e){const t={},o=s(e,["config"]);return o!=null&&u(t,["config"],t_(n,o,t)),t}function r_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function i_(n){const e={},t=s(n,["id"]);t!=null&&u(e,["id"],t);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);if(r!=null&&u(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function s_(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function l_(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function u_(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topP"],l);const a=s(n,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","speechConfig"],ru(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const h=s(n,["enableAffectiveDialog"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],n_(ve(E)));const S=s(n,["tools"]);if(e!==void 0&&S!=null){let A=zt(S);Array.isArray(A)&&(A=A.map(I=>f_($t(I)))),u(e,["setup","tools"],A)}const T=s(n,["sessionResumption"]);e!==void 0&&T!=null&&u(e,["setup","sessionResumption"],d_(T));const y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","outputAudioTranscription"],g);const v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&u(e,["setup","realtimeInputConfig"],v);const C=s(n,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const w=s(n,["proactivity"]);if(e!==void 0&&w!=null&&u(e,["setup","proactivity"],w),s(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function a_(n,e){const t={},o=s(e,["model"]);o!=null&&u(t,["setup","model"],O(n,o));const r=s(e,["config"]);return r!=null&&u(t,["config"],u_(r,t)),t}function c_(n){const e={},t=s(n,["mediaResolution"]);t!=null&&u(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&u(e,["fileData"],r_(i));const l=s(n,["functionCall"]);l!=null&&u(e,["functionCall"],i_(l));const a=s(n,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],e_(c));const d=s(n,["text"]);d!=null&&u(e,["text"],d);const f=s(n,["thought"]);f!=null&&u(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function d_(n){const e={},t=s(n,["handle"]);if(t!=null&&u(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function f_(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&u(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);const r=s(n,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),u(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&u(e,["googleMaps"],s_(l));const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],l_(a));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${t}.${i}`);e.push(...r)}else e.push(t)}return e.join(",")}function m_(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(n.bidiGenerateContentSetup=i,t=i):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const i=p_(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?n.fieldMask=i:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),a.length>0&&c.push(...a),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class h_ extends Sn{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=o_(this.apiClient,e);i=M("auth_tokens",a._url),l=a._query,delete a.config,delete a._url,delete a._query;const c=m_(a,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_(n,e){const t={},o=s(n,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),t}function y_(n){const e={},t=s(n,["name"]);t!=null&&u(e,["_url","name"],t);const o=s(n,["config"]);return o!=null&&g_(o,e),e}function v_(n){const e={},t=s(n,["name"]);return t!=null&&u(e,["_url","name"],t),e}function E_(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function S_(n){const e={},t=s(n,["parent"]);t!=null&&u(e,["_url","parent"],t);const o=s(n,["config"]);return o!=null&&E_(o,e),e}function __(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(n,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T_ extends Sn{constructor(e){super(),this.apiClient=e,this.list=async t=>new lt(vn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),await this.listInternal(t),t)}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=v_(e);return i=M("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=y_(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=S_(e);return i=M("{parent}/documents",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=__(c),f=new ny;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_ extends Sn{constructor(e,t=new T_(e)){super(),this.apiClient=e,this.documents=t,this.list=async(o={})=>new lt(vn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pS(e);return i=M("fileSearchStores",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gS(e);return i=M("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hS(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TS(e);return i=M("fileSearchStores",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=CS(c),f=new ty;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wS(e);return i=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=IS(c),f=new oy;return Object.assign(f,d),f})}}async importFile(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ES(e);return i=M("{file_search_store_name}:importFile",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=vS(c),f=new jl;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kp=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return kp=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^t()&15>>+o/4).toString(16))};const w_=()=>kp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zs(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const js=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oe extends Error{}class we extends Oe{constructor(e,t,o,r){super(`${we.makeMessage(e,t,o)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,o){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,o,r){if(!e||!r)return new Ei({message:o,cause:js(t)});const i=t;return e===400?new Lp(e,i,o,r):e===401?new Up(e,i,o,r):e===403?new Fp(e,i,o,r):e===404?new Vp(e,i,o,r):e===409?new Gp(e,i,o,r):e===422?new Hp(e,i,o,r):e===429?new qp(e,i,o,r):e>=500?new Bp(e,i,o,r):new we(e,i,o,r)}}class el extends we{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ei extends we{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Dp extends Ei{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Lp extends we{}class Up extends we{}class Fp extends we{}class Vp extends we{}class Gp extends we{}class Hp extends we{}class qp extends we{}class Bp extends we{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I_=/^[a-z][a-z0-9+.-]*:/i,A_=n=>I_.test(n);let nl=n=>(nl=Array.isArray,nl(n));const x_=nl;let R_=x_;const qc=R_;function N_(n){if(!n)return!0;for(const e in n)return!1;return!0}function P_(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const M_=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Oe(`${n} must be an integer`);if(e<0)throw new Oe(`${n} must be a positive integer`);return e},k_=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D_=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const at="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const U_=()=>{var n,e,t,o,r;const i=L_();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":at,"X-Stainless-OS":$c(Deno.build.os),"X-Stainless-Arch":Bc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":at,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":at,"X-Stainless-OS":$c((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":Bc((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=F_();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":at,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":at,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function F_(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const o=t.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:e,version:`${r}.${i}.${l}`}}}return null}const Bc=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",$c=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let rr;const V_=()=>rr??(rr=U_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $p(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function H_(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return $p({start(){},async pull(t){const{done:o,value:r}=await e.next();o?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function zp(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function q_(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const o=n.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B_=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jp=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Qi(n,e,t){return Jp(),new File(n,e??"unknown_file",t)}function $_(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const z_=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Op=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",J_=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Op(n),O_=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function W_(n,e,t){if(Jp(),n=await n,J_(n))return n instanceof File?n:Qi([await n.arrayBuffer()],n.name);if(O_(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Qi(await tl(r),e,t)}const o=await tl(n);if(e||(e=$_(n)),!(t!=null&&t.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(t=Object.assign(Object.assign({},t),{type:r}))}return Qi(o,e,t)}async function tl(n){var e,t,o,r,i;let l=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)l.push(n);else if(Op(n))l.push(n instanceof Blob?n:await n.arrayBuffer());else if(z_(n))try{for(var a=!0,c=je(n),d;d=await c.next(),e=d.done,!e;a=!0){r=d.value,a=!1;const f=r;l.push(...await tl(f))}}catch(f){t={error:f}}finally{try{!a&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}else{const f=(i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof n}${f?`; constructor: ${f}`:""}${K_(n)}`)}return l}function K_(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wp{constructor(e){this._client=e}}Wp._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kp(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zc=Object.freeze(Object.create(null)),Y_=(n=Kp)=>function(t,...o){if(t.length===1)return t[0];let r=!1;const i=[],l=t.reduce((f,m,p)=>{var h,E,S;/[?#]/.test(m)&&(r=!0);const T=o[p];let y=(r?encodeURIComponent:n)(""+T);return p!==o.length&&(T==null||typeof T=="object"&&T.toString===((S=Object.getPrototypeOf((E=Object.getPrototypeOf((h=T.hasOwnProperty)!==null&&h!==void 0?h:zc))!==null&&E!==void 0?E:zc))===null||S===void 0?void 0:S.toString))&&(y=T+"",i.push({start:f.length+m.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":y)},""),a=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(a))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,m)=>f.start-m.start),i.length>0){let f=0;const m=i.reduce((p,h)=>{const E=" ".repeat(h.start-f),S="^".repeat(h.length);return f=h.start+h.length,p+E+S},"");throw new Oe(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${m}`)}return l},ir=Y_(Kp);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yp extends Wp{create(e,t){var o;const{api_version:r=this._client.apiVersion}=e,i=Xr(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Oe("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Oe("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ir`/${r}/interactions`,Object.assign(Object.assign({body:i},t),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,t={},o){const{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(ir`/${r}/interactions/${e}`,o)}cancel(e,t={},o){const{api_version:r=this._client.apiVersion}=t??{};return this._client.post(ir`/${r}/interactions/${e}/cancel`,o)}get(e,t={},o){var r;const i=t??{},{api_version:l=this._client.apiVersion}=i,a=Xr(i,["api_version"]);return this._client.get(ir`/${l}/interactions/${e}`,Object.assign(Object.assign({query:a},o),{stream:(r=t==null?void 0:t.stream)!==null&&r!==void 0?r:!1}))}}Yp._key=Object.freeze(["interactions"]);class Qp extends Yp{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q_(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let o=0;for(const r of n)t.set(r,o),o+=r.length;return t}let sr;function su(n){let e;return(sr??(e=new globalThis.TextEncoder,sr=e.encode.bind(e)))(n)}let lr;function Jc(n){let e;return(lr??(e=new globalThis.TextDecoder,lr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Si{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?su(e):e;this.buffer=Q_([this.buffer,t]);const o=[];let r;for(;(r=X_(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Jc(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=Jc(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Si.NEWLINE_CHARS=new Set([`
`,"\r"]);Si.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function X_(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function b_(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const br={off:0,error:200,warn:300,info:400,debug:500},Oc=(n,e,t)=>{if(n){if(P_(br,n))return n;_e(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(br))}`)}};function io(){}function ur(n,e,t){return!e||br[n]>br[t]?io:e[n].bind(e)}const Z_={error:io,warn:io,info:io,debug:io};let Wc=new WeakMap;function _e(n){var e;const t=n.logger,o=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return Z_;const r=Wc.get(t);if(r&&r[0]===o)return r[1];const i={error:ur("error",t,o),warn:ur("warn",t,o),info:ur("info",t,o),debug:ur("debug",t,o)};return Wc.set(t,[o,i]),i}const Kn=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ct{constructor(e,t,o){this.iterator=e,this.controller=t,this.client=o}static fromSSEResponse(e,t,o){let r=!1;const i=o?_e(o):console;function l(){return Ze(this,arguments,function*(){var c,d,f,m;if(r)throw new Oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=je(j_(e,t)),S;S=yield F(E.next()),c=S.done,!c;h=!0){m=S.value,h=!1;const T=m;if(!p)if(T.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield F(JSON.parse(T.data))}catch(y){throw i.error("Could not parse message into JSON:",T.data),i.error("From chunk:",T.raw),y}}}catch(T){d={error:T}}finally{try{!h&&!c&&(f=E.return)&&(yield F(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(T){if(Zs(T))return yield F(void 0);throw T}finally{p||t.abort()}})}return new Ct(l,t,o)}static fromReadableStream(e,t,o){let r=!1;function i(){return Ze(this,arguments,function*(){var c,d,f,m;const p=new Si,h=zp(e);try{for(var E=!0,S=je(h),T;T=yield F(S.next()),c=T.done,!c;E=!0){m=T.value,E=!1;const y=m;for(const g of p.decode(y))yield yield F(g)}}catch(y){d={error:y}}finally{try{!E&&!c&&(f=S.return)&&(yield F(f.call(S)))}finally{if(d)throw d.error}}for(const y of p.flush())yield yield F(y)})}function l(){return Ze(this,arguments,function*(){var c,d,f,m;if(r)throw new Oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=je(i()),S;S=yield F(E.next()),c=S.done,!c;h=!0){m=S.value,h=!1;const T=m;p||T&&(yield yield F(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!h&&!c&&(f=E.return)&&(yield F(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(T){if(Zs(T))return yield F(void 0);throw T}finally{p||t.abort()}})}return new Ct(l,t,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();e.push(l),t.push(l)}return i.shift()}});return[new Ct(()=>r(e),this.controller,this.client),new Ct(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return $p({async start(){t=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await t.next();if(i)return o.close();const l=su(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}}function j_(n,e){return Ze(this,arguments,function*(){var o,r,i,l;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Oe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Oe("Attempted to iterate over a response with no body");const a=new nT,c=new Si,d=zp(n.body);try{for(var f=!0,m=je(eT(d)),p;p=yield F(m.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const h=l;for(const E of c.decode(h)){const S=a.decode(E);S&&(yield yield F(S))}}}catch(h){r={error:h}}finally{try{!f&&!o&&(i=m.return)&&(yield F(i.call(m)))}finally{if(r)throw r.error}}for(const h of c.flush()){const E=a.decode(h);E&&(yield yield F(E))}})}function eT(n){return Ze(this,arguments,function*(){var t,o,r,i;let l=new Uint8Array;try{for(var a=!0,c=je(n),d;d=yield F(c.next()),t=d.done,!t;a=!0){i=d.value,a=!1;const f=i;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?su(f):f;let p=new Uint8Array(l.length+m.length);p.set(l),p.set(m,l.length),l=p;let h;for(;(h=b_(l))!==-1;)yield yield F(l.slice(0,h)),l=l.slice(h)}}catch(f){o={error:f}}finally{try{!a&&!t&&(r=c.return)&&(yield F(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield F(l))})}class nT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,o,r]=tT(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}function tT(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oT(n,e){const{response:t,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,l=await(async()=>{var a;if(e.options.stream)return _e(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Ct.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),d=(a=c==null?void 0:c.split(";")[0])===null||a===void 0?void 0:a.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await t.json():await t.text()})();return _e(n).debug(`[${o}] response parsed`,Kn({retryOfRequestLogID:r,url:t.url,status:t.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lu extends Promise{constructor(e,t,o=oT){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new lu(this.client,this.responsePromise,async(t,o)=>e(await this.parseResponse(t,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xp=Symbol("brand.privateNullableHeaders");function*rT(n){if(!n)return;if(Xp in n){const{values:o,nulls:r}=n;yield*o.entries();for(const i of r)yield[i,null];return}let e=!1,t;n instanceof Headers?t=n.entries():qc(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let o of t){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=qc(o[1])?o[1]:[o[1]];let l=!1;for(const a of i)a!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,a])}}const eo=n=>{const e=new Headers,t=new Set;for(const o of n){const r=new Set;for(const[i,l]of rT(o)){const a=i.toLowerCase();r.has(a)||(e.delete(i),r.add(a)),l===null?(e.delete(i),t.add(a)):(e.append(i,l),t.delete(a))}}return{[Xp]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xi=n=>{var e,t,o,r,i,l;if(typeof globalThis.process<"u")return(o=(t=(e=globalThis.process.env)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,n))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bp;class _i{constructor(e){var t,o,r,i,l,a,c,{baseURL:d=Xi("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(t=Xi("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:m="v1beta"}=e,p=Xr(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(o=h.timeout)!==null&&o!==void 0?o:_i.DEFAULT_TIMEOUT,this.logger=(r=h.logger)!==null&&r!==void 0?r:console;const E="warn";this.logLevel=E,this.logLevel=(l=(i=Oc(h.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Oc(Xi("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=h.fetchOptions,this.maxRetries=(a=h.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:G_(),this.encoder=B_,this._options=h,this.apiKey=f,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=eo([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return eo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return eo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,o])=>typeof o<"u").map(([t,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(t)}=`;throw new Oe(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${at}`}defaultIdempotencyKey(){return`stainless-node-retry-${w_()}`}makeStatusError(e,t,o,r){return we.generate(e,t,o,r)}buildURL(e,t,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=A_(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return N_(l)||(t=Object.assign(Object.assign({},l),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:o}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new lu(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,o){var r,i,l;const a=await e,c=(r=a.maxRetries)!==null&&r!==void 0?r:this.maxRetries;t==null&&(t=c),await this.prepareOptions(a);const{req:d,url:f,timeout:m}=await this.buildRequest(a,{retryCount:c-t});await this.prepareRequest(d,{url:f,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(_e(this).debug(`[${p}] sending request`,Kn({retryOfRequestLogID:o,method:a.method,url:f,options:a,headers:d.headers})),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new el;const S=new AbortController,T=await this.fetchWithTimeout(f,d,m,S).catch(js),y=Date.now();if(T instanceof globalThis.Error){const v=`retrying, ${t} attempts remaining`;if(!((l=a.signal)===null||l===void 0)&&l.aborted)throw new el;const C=Zs(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(t)return _e(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${v}`),_e(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${v})`,Kn({retryOfRequestLogID:o,url:f,durationMs:y-E,message:T.message})),this.retryRequest(a,t,o??p);throw _e(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),_e(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Kn({retryOfRequestLogID:o,url:f,durationMs:y-E,message:T.message})),C?new Dp:new Ei({cause:T})}const g=`[${p}${h}] ${d.method} ${f} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${y-E}ms`;if(!T.ok){const v=await this.shouldRetry(T);if(t&&v){const R=`retrying, ${t} attempts remaining`;return await q_(T.body),_e(this).info(`${g} - ${R}`),_e(this).debug(`[${p}] response error (${R})`,Kn({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,durationMs:y-E})),this.retryRequest(a,t,o??p,T.headers)}const C=v?"error; no more retries left":"error; not retryable";_e(this).info(`${g} - ${C}`);const w=await T.text().catch(R=>js(R).message),A=k_(w),I=A?void 0:w;throw _e(this).debug(`[${p}] response error (${C})`,Kn({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,message:I,durationMs:Date.now()-E})),this.makeStatusError(T.status,A,I,T.headers)}return _e(this).info(g),_e(this).debug(`[${p}] response start`,Kn({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,durationMs:y-E})),{response:T,options:a,controller:S,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,t,o,r){const i=t||{},{signal:l,method:a}=i,c=Xr(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);a&&(m.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,o,r){var i;let l;const a=r==null?void 0:r.get("retry-after-ms");if(a){const d=parseFloat(a);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(t,d)}return await D_(l),this.makeRequest(e,t-1,o)}calculateDefaultRetryTimeoutMillis(e,t){const i=t-e,l=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return l*a*1e3}async buildRequest(e,{retryCount:t=0}={}){var o,r,i;const l=Object.assign({},e),{method:a,path:c,query:d,defaultBaseURL:f}=l,m=this.buildURL(c,d,f);"timeout"in l&&M_("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:a,bodyHeaders:p,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:l.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let a=eo([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),V_()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=eo([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:H_(e)}:this.encoder({body:e,headers:o})}}_i.DEFAULT_TIMEOUT=6e4;class de extends _i{constructor(){super(...arguments),this.interactions=new Qp(this)}}bp=de;de.GeminiNextGenAPIClient=bp;de.GeminiNextGenAPIClientError=Oe;de.APIError=we;de.APIConnectionError=Ei;de.APIConnectionTimeoutError=Dp;de.APIUserAbortError=el;de.NotFoundError=Vp;de.ConflictError=Gp;de.RateLimitError=qp;de.BadRequestError=Lp;de.AuthenticationError=Up;de.InternalServerError=Bp;de.PermissionDeniedError=Fp;de.UnprocessableEntityError=Hp;de.toFile=W_;de.Interactions=Qp;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(n,e){const t={},o=s(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function sT(n,e){const t={},o=s(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function lT(n,e){const t={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(t,["sdkHttpResponse"],o),t}function uT(n,e){const t={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(t,["sdkHttpResponse"],o),t}function aT(n,e,t){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(n,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(n,["learningRateMultiplier"]);if(l!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=s(n,["batchSize"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","batchSize"],a);const c=s(n,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function cT(n,e,t){const o={};let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=s(n,["validationDataset"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec"],Kc(h))}else if(r==="PREFERENCE_TUNING"){const h=s(n,["validationDataset"]);e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec"],Kc(h))}const i=s(n,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);const l=s(n,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);let a=s(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const h=s(n,["epochCount"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(a==="PREFERENCE_TUNING"){const h=s(n,["epochCount"]);e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=s(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let d=s(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=s(n,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(d==="PREFERENCE_TUNING"){const h=s(n,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let f=s(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=s(n,["adapterSize"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(f==="PREFERENCE_TUNING"){const h=s(n,["adapterSize"]);e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(n,["labels"]);e!==void 0&&m!=null&&u(e,["labels"],m);const p=s(n,["beta"]);return e!==void 0&&p!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function dT(n,e){const t={},o=s(n,["baseModel"]);o!=null&&u(t,["baseModel"],o);const r=s(n,["preTunedModel"]);r!=null&&u(t,["preTunedModel"],r);const i=s(n,["trainingDataset"]);i!=null&&TT(i);const l=s(n,["config"]);return l!=null&&aT(l,t),t}function fT(n,e){const t={},o=s(n,["baseModel"]);o!=null&&u(t,["baseModel"],o);const r=s(n,["preTunedModel"]);r!=null&&u(t,["preTunedModel"],r);const i=s(n,["trainingDataset"]);i!=null&&CT(i,t,e);const l=s(n,["config"]);return l!=null&&cT(l,t,e),t}function pT(n,e){const t={},o=s(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function mT(n,e){const t={},o=s(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function hT(n,e,t){const o={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const i=s(n,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const l=s(n,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),o}function gT(n,e,t){const o={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const i=s(n,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const l=s(n,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),o}function yT(n,e){const t={},o=s(n,["config"]);return o!=null&&hT(o,t),t}function vT(n,e){const t={},o=s(n,["config"]);return o!=null&&gT(o,t),t}function ET(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=s(n,["nextPageToken"]);r!=null&&u(t,["nextPageToken"],r);const i=s(n,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>Zp(a))),u(t,["tuningJobs"],l)}return t}function ST(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=s(n,["nextPageToken"]);r!=null&&u(t,["nextPageToken"],r);const i=s(n,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>ol(a))),u(t,["tuningJobs"],l)}return t}function _T(n,e){const t={},o=s(n,["name"]);o!=null&&u(t,["model"],o);const r=s(n,["name"]);return r!=null&&u(t,["endpoint"],r),t}function TT(n,e){const t={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(t,["examples","examples"],r)}return t}function CT(n,e,t){const o={};let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Zp(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=s(n,["name"]);r!=null&&u(t,["name"],r);const i=s(n,["state"]);i!=null&&u(t,["state"],mp(i));const l=s(n,["createTime"]);l!=null&&u(t,["createTime"],l);const a=s(n,["tuningTask","startTime"]);a!=null&&u(t,["startTime"],a);const c=s(n,["tuningTask","completeTime"]);c!=null&&u(t,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&u(t,["updateTime"],d);const f=s(n,["description"]);f!=null&&u(t,["description"],f);const m=s(n,["baseModel"]);m!=null&&u(t,["baseModel"],m);const p=s(n,["_self"]);return p!=null&&u(t,["tunedModel"],_T(p)),t}function ol(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=s(n,["name"]);r!=null&&u(t,["name"],r);const i=s(n,["state"]);i!=null&&u(t,["state"],mp(i));const l=s(n,["createTime"]);l!=null&&u(t,["createTime"],l);const a=s(n,["startTime"]);a!=null&&u(t,["startTime"],a);const c=s(n,["endTime"]);c!=null&&u(t,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&u(t,["updateTime"],d);const f=s(n,["error"]);f!=null&&u(t,["error"],f);const m=s(n,["description"]);m!=null&&u(t,["description"],m);const p=s(n,["baseModel"]);p!=null&&u(t,["baseModel"],p);const h=s(n,["tunedModel"]);h!=null&&u(t,["tunedModel"],h);const E=s(n,["preTunedModel"]);E!=null&&u(t,["preTunedModel"],E);const S=s(n,["supervisedTuningSpec"]);S!=null&&u(t,["supervisedTuningSpec"],S);const T=s(n,["preferenceOptimizationSpec"]);T!=null&&u(t,["preferenceOptimizationSpec"],T);const y=s(n,["tuningDataStats"]);y!=null&&u(t,["tuningDataStats"],y);const g=s(n,["encryptionSpec"]);g!=null&&u(t,["encryptionSpec"],g);const v=s(n,["partnerModelTuningSpec"]);v!=null&&u(t,["partnerModelTuningSpec"],v);const C=s(n,["customBaseModel"]);C!=null&&u(t,["customBaseModel"],C);const w=s(n,["experiment"]);w!=null&&u(t,["experiment"],w);const A=s(n,["labels"]);A!=null&&u(t,["labels"],A);const I=s(n,["outputUri"]);I!=null&&u(t,["outputUri"],I);const x=s(n,["pipelineJob"]);x!=null&&u(t,["pipelineJob"],x);const R=s(n,["serviceAccount"]);R!=null&&u(t,["serviceAccount"],R);const P=s(n,["tunedModelDisplayName"]);P!=null&&u(t,["tunedModelDisplayName"],P);const G=s(n,["veoTuningSpec"]);return G!=null&&u(t,["veoTuningSpec"],G),t}function wT(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=s(n,["name"]);r!=null&&u(t,["name"],r);const i=s(n,["metadata"]);i!=null&&u(t,["metadata"],i);const l=s(n,["done"]);l!=null&&u(t,["done"],l);const a=s(n,["error"]);return a!=null&&u(t,["error"],a),t}function Kc(n,e){const t={},o=s(n,["gcsUri"]);o!=null&&u(t,["validationDatasetUri"],o);const r=s(n,["vertexDatasetResource"]);return r!=null&&u(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IT extends Sn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new lt(vn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},t),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Os.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=mT(e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>ol(f))}else{const d=pT(e);return a=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Zp(f))}}async listInternal(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=vT(e);return a=M("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ST(f),p=new Ec;return Object.assign(p,m),p})}else{const d=yT(e);return a=M("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ET(f),p=new Ec;return Object.assign(p,m),p})}}async cancel(e){var t,o,r,i;let l,a="",c={};if(this.apiClient.isVertexAI()){const d=sT(e);return a=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=uT(f),p=new Sc;return Object.assign(p,m),p})}else{const d=iT(e);return a=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=lT(f),p=new Sc;return Object.assign(p,m),p})}}async tuneInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=fT(e,e);return i=M("tuningJobs",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>ol(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dT(e);return i=M("tunedModels",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>wT(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xT=1024*1024*8,RT=3,NT=1e3,PT=2,Zr="x-goog-upload-status";async function MT(n,e,t){var o;const r=await jp(n,e,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Zr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function kT(n,e,t){var o;const r=await jp(n,e,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Zr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=up(i),a=new eu;return Object.assign(a,l),a}async function jp(n,e,t){var o,r;let i=0,l=0,a=new Ws(new Response),c="upload";for(i=n.size;l<i;){const d=Math.min(xT,i-l),f=n.slice(l,l+d);l+d>=i&&(c+=", finalize");let m=0,p=NT;for(;m<RT&&(a=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=a==null?void 0:a.headers)===null||o===void 0)&&o[Zr]));)m++,await LT(p),p=p*PT;if(l+=d,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Zr])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function DT(n){return{size:n.size,type:n.type}}function LT(n){return new Promise(e=>setTimeout(e,n))}class UT{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MT(e,t,o)}async uploadToFileSearchStore(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kT(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FT{create(e,t,o){return new VT(e,t,o)}}class VT{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yc="x-goog-api-key";class GT{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Yc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Yc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HT="gl-node/";class qT{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new de({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=Lg(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new GT(this.apiKey);this.apiClient=new DS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HT+"web",uploader:new UT,downloader:new AT}),this.models=new ZS(this.apiClient),this.live=new WS(this.apiClient,r,new FT),this.batches=new av(this.apiClient),this.chats=new Jv(this.models,this.apiClient),this.caches=new Bv(this.apiClient),this.files=new e0(this.apiClient),this.operations=new jS(this.apiClient),this.authTokens=new h_(this.apiClient),this.tunings=new IT(this.apiClient),this.fileSearchStores=new C_(this.apiClient)}}const BT=new qT({apiKey:void 0}),$T={type:Z.OBJECT,properties:{subject:{type:Z.STRING,description:"The subject of the exam (e.g., Math, Physics)."},scope:{type:Z.STRING,description:"The scope or chapter of the exam (e.g., Chapter 1, Algebra)."},questions:{type:Z.ARRAY,items:{type:Z.OBJECT,properties:{questionNumber:{type:Z.INTEGER,description:"The extracted question number."},text:{type:Z.STRING,description:"The content of the question."},optionA:{type:Z.STRING,description:"Option A text."},optionB:{type:Z.STRING,description:"Option B text."},optionC:{type:Z.STRING,description:"Option C text."},optionD:{type:Z.STRING,description:"Option D text."},correctAnswer:{type:Z.STRING,description:"The correct answer letter (A, B, C, or D). Solve the problem to find this."},explanation:{type:Z.STRING,description:"A detailed explanation of why the answer is correct."},diagramCoordinates:{type:Z.ARRAY,description:"If the question has an accompanying diagram/image, provide the bounding box [ymin, xmin, ymax, xmax] on a 0-1000 scale. If no diagram, leave empty.",items:{type:Z.INTEGER}}},required:["text","optionA","optionB","optionC","optionD","correctAnswer","explanation"]}}},required:["subject","scope","questions"]},zT=async(n,e)=>{let o;for(let r=1;r<=3;r++)try{const l=(await BT.models.generateContent({model:"gemini-3-pro-preview",contents:{parts:[{inlineData:{mimeType:e,data:n}},{text:`Analyze this image of an exam paper. 
            1. Identify the Subject and Scope.
            2. Extract all multiple-choice questions.
            3. For each question, extract the text and options.
            4. SOLVE the question to determine the 'correctAnswer' (A, B, C, or D).
            5. Provide a detailed 'explanation'.
            6. CRITICAL: If a question includes a diagram, graph, geometry figure, or illustration, you MUST identify its bounding box coordinates [ymin, xmin, ymax, xmax] normalized to a 0-1000 scale.
            
            IMPORTANT: Return the 'explanation', 'subject', and 'scope' in Traditional Chinese (), even if the exam is in English.
            Return the result in JSON format matching the schema.`}]},config:{responseMimeType:"application/json",responseSchema:$T,temperature:.1}})).text;if(!l)throw new Error("No response from Gemini");return JSON.parse(l)}catch(i){if(console.warn(`Gemini Analysis Attempt ${r} failed:`,i),o=i,r<3){const l=1e3*Math.pow(2,r-1);await new Promise(a=>setTimeout(a,l))}}throw console.error("Gemini Analysis Final Error:",o),o},Go="https://script.google.com/macros/s/AKfycbyPnWaTsYWV2IBiVMtmgevrMyx87DulDsp3bEhx_1E_YLHPp4FBAvCrPlkImUuBy8R6/exec",JT=async n=>{try{const e=await fetch(Go,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"upload",data:n})}),t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await e.text();return console.error("GAS returned non-JSON response:",r),r.includes("Google Drive")||r.includes("permission")||r.includes("")||r.includes("script.google.com")?alert(`Google Drive

Google Apps Script  Google Drive


1.  GAS 
2. 

function runAuth() {
  DriveApp.createFolder("Test_Auth");
}

3. 
4. `):alert(`Google Sheets  ( JSON)


1. 
2. 

 Console `),!1}const o=await e.json();if(o.status==="success")return!0;{console.error("GAS Error:",o.message);const r=typeof o.message=="string"?o.message:JSON.stringify(o.message);return r.includes("DriveApp")||r.includes("createFolder")||r.includes("auth/drive")||r.includes("")?alert(`GAS 


${r}

 Google Apps Script 



1.  GAS 
2. 
   function doAuth() { DriveApp.createFolder("test"); }
3. 
4. >>  > > 

`):alert(` (GAS ): ${r}`),!1}}catch(e){return console.error("GAS Upload Error:",e),alert(`${e}


1.  ( /exec)
2. 
3. `),!1}},OT=async(n,e)=>{try{const t=new URLSearchParams({action:"getQuestions",subject:n,scope:e}),o=await fetch(`${Go}?${t.toString()}`),r=o.headers.get("content-type");if(!r||!r.includes("application/json"))return console.error("GAS returned non-JSON response for questions."),[];const i=await o.json();return i.status==="success"&&Array.isArray(i.questions)?i.questions:(console.error("GAS Fetch Error:",i),[])}catch(t){return console.error("GAS Fetch Network Error:",t),alert(" Google Sheets"),[]}},WT=async()=>{try{const n=new URLSearchParams({action:"getSubjects"}),e=await fetch(`${Go}?${n.toString()}`),t=e.headers.get("content-type");if(!t||!t.includes("application/json"))return console.warn("GAS returned non-JSON response for subjects."),[];const o=await e.json();return o.status==="success"&&Array.isArray(o.subjects)?o.subjects:[]}catch(n){return console.error("GAS Fetch Subjects Error:",n),[]}},KT=async n=>{try{const e=new URLSearchParams({action:"getScopes",subject:n}),t=await fetch(`${Go}?${e.toString()}`),o=t.headers.get("content-type");if(!o||!o.includes("application/json"))return console.warn("GAS returned non-JSON response for scopes."),[];const r=await t.json();return r.status==="success"&&Array.isArray(r.scopes)?r.scopes:[]}catch(e){return console.error("GAS Fetch Scopes Error:",e),[]}},YT=async n=>{try{return await fetch(Go,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"saveResult",data:n})}),!0}catch(e){return console.error("GAS Save Result Error:",e),!1}},QT=()=>{const[n,e]=K.useState(null),[t,o]=K.useState(null),[r,i]=K.useState(!1),[l,a]=K.useState(!1),[c,d]=K.useState(null),f=K.useRef(null),m=K.useRef(null),p=w=>new Promise(A=>{const I=new FileReader;I.onload=x=>{var P;const R=new Image;R.onload=()=>{var q;const G=document.createElement("canvas");let z=R.width,H=R.height;const L=1600;z>H?z>L&&(H*=L/z,z=L):H>L&&(z*=L/H,H=L),G.width=z,G.height=H;const B=G.getContext("2d");B?(B.drawImage(R,0,0,z,H),A(G.toDataURL("image/jpeg",.8))):A((q=x.target)==null?void 0:q.result)},R.src=(P=x.target)==null?void 0:P.result},I.readAsDataURL(w)}),h=async(w,A)=>{var x;const I=(x=w.target.files)==null?void 0:x[0];if(I)try{const R=await p(I);A==="front"?e(R):o(R)}catch(R){console.error("Image processing error:",R),alert("")}},E=async(w,A)=>new Promise(I=>{const x=new Image;x.onload=()=>{const R=document.createElement("canvas"),P=R.getContext("2d");if(!P){I(A);return}const G=A.questions.map(z=>{if(z.diagramCoordinates&&z.diagramCoordinates.length===4){const[H,L,B,q]=z.diagramCoordinates,Se=L/1e3*x.width,k=H/1e3*x.height,U=(q-L)/1e3*x.width,V=(B-H)/1e3*x.height;return R.width=U,R.height=V,P.drawImage(x,Se,k,U,V,0,0,U,V),{...z,diagramUrl:R.toDataURL("image/png")}}return z});I({...A,questions:G})},x.src=w}),S=async()=>{if(!n&&!t){alert("");return}i(!0);try{const w=async R=>{const P=R.split(",")[1],G=R.split(";")[0].split(":")[1];let z=await zT(P,G);return z=await E(R,z),z};let A=[],I="",x="";if(n){const R=await w(n);A=[...A,...R.questions],I=R.subject,x=R.scope}if(t){const R=await w(t);A=[...A,...R.questions],I||(I=R.subject),x||(x=R.scope)}A.sort((R,P)=>(R.questionNumber||0)-(P.questionNumber||0)),d({subject:I,scope:x,questions:A})}catch(w){console.error(w),alert("")}finally{i(!1)}},T=async()=>{if(c){a(!0);try{await JT(c)&&(alert(" Google Sheets"),d(null),e(null),o(null),f.current&&(f.current.value=""),m.current&&(m.current.value=""))}catch{alert("")}finally{a(!1)}}},y=(w,A)=>{c&&d({...c,[w]:A})},g=(w,A,I)=>{if(c){const x=[...c.questions];x[w]={...x[w],[A]:I},d({...c,questions:x})}},v=w=>{if(c){const A=c.questions.filter((I,x)=>x!==w);d({...c,questions:A})}},C=(w,A,I,x)=>_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:A}),_.jsxs("div",{className:`flex-1 border-2 border-dashed rounded-xl p-4 text-center transition-colors relative min-h-[200px] flex flex-col justify-center items-center ${I?"border-blue-300 bg-blue-50":"border-slate-300 hover:bg-slate-50"}`,children:[_.jsx("input",{type:"file",accept:"image/*",onChange:R=>h(R,w),ref:x,className:"hidden",id:`upload-${w}`}),I?_.jsxs("div",{className:"relative w-full h-full flex items-center justify-center group",children:[_.jsx("img",{src:I,alt:`${A} Preview`,className:"max-h-64 max-w-full object-contain"}),_.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg",children:_.jsx("label",{htmlFor:`upload-${w}`,className:"cursor-pointer bg-white text-slate-800 px-4 py-2 rounded-full font-medium text-sm hover:bg-blue-50",children:""})})]}):_.jsxs("label",{htmlFor:`upload-${w}`,className:"cursor-pointer flex flex-col items-center w-full h-full justify-center",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-slate-400 mb-2",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),_.jsxs("span",{className:"text-blue-600 font-medium hover:underline",children:["",A]})]})]})]});return _.jsx("div",{className:"space-y-8",children:_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:""}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[_.jsxs("div",{className:"flex-1 space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C("front"," (Front)",n,f),C("back"," (Back)",t,m)]}),_.jsx("div",{className:"text-slate-500 text-sm bg-slate-50 p-3 rounded border border-slate-100",children:_.jsx("p",{children:" "})}),_.jsx("div",{className:"flex justify-end",children:_.jsx(jn,{onClick:S,disabled:!n&&!t||r,isLoading:r,className:"w-full md:w-auto",children:r?"Gemini ...":""})})]}),c&&_.jsxs("div",{className:"flex-1 space-y-6 animate-fade-in border-t lg:border-t-0 lg:border-l lg:pl-8 border-slate-200 pt-6 lg:pt-0",children:[_.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[_.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:""}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:""}),_.jsx("input",{type:"text",value:c.subject,onChange:w=>y("subject",w.target.value),className:"w-full rounded-md border-blue-200 focus:ring-blue-500 focus:border-blue-500 p-2 bg-white text-slate-900"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:""}),_.jsx("input",{type:"text",value:c.scope,onChange:w=>y("scope",w.target.value),className:"w-full rounded-md border-blue-200 focus:ring-blue-500 focus:border-blue-500 p-2 bg-white text-slate-900"})]})]})]}),_.jsx("div",{className:"flex justify-between items-center",children:_.jsxs("h3",{className:"font-bold text-slate-700",children:[" (",c.questions.length," )"]})}),_.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:c.questions.map((w,A)=>_.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 relative group transition-all hover:shadow-md",children:[_.jsx("button",{onClick:()=>v(A),className:"absolute top-2 right-2 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})}),w.diagramUrl&&_.jsx("div",{className:"mb-3 p-2 border border-slate-200 bg-white rounded flex justify-center",children:_.jsx("img",{src:w.diagramUrl,alt:`Diagram for Q${w.questionNumber||A+1}`,className:"max-h-40 object-contain"})}),_.jsxs("div",{className:"mb-2",children:[_.jsxs("label",{className:"block text-xs font-bold uppercase text-slate-500",children:[" ",w.questionNumber||A+1," "]}),_.jsx("textarea",{value:w.text,onChange:I=>g(A,"text",I.target.value),className:"w-full mt-1 rounded border-slate-300 text-sm p-2 bg-white text-slate-900 focus:ring-blue-500 focus:border-blue-500",rows:2})]}),_.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:["A","B","C","D"].map(I=>_.jsxs("div",{children:[_.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:[I,"."]}),_.jsx("input",{type:"text",value:w[`option${I}`],onChange:x=>g(A,`option${I}`,x.target.value),className:"w-full mt-1 rounded border-slate-300 text-xs p-1 bg-white text-slate-900 focus:ring-blue-500 focus:border-blue-500"})]},I))}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500",children:""}),_.jsx("select",{value:w.correctAnswer,onChange:I=>g(A,"correctAnswer",I.target.value),className:"w-full mt-1 rounded border-slate-300 text-sm p-1 bg-white text-slate-900 focus:ring-blue-500 focus:border-blue-500",children:["A","B","C","D"].map(I=>_.jsx("option",{value:I,children:I},I))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500",children:""}),_.jsx("input",{type:"text",value:w.explanation,onChange:I=>g(A,"explanation",I.target.value),className:"w-full mt-1 rounded border-slate-300 text-xs p-1 bg-white text-slate-900 focus:ring-blue-500 focus:border-blue-500"})]})]})]},A))}),_.jsx("div",{className:"pt-4 border-t border-slate-200 flex justify-end",children:_.jsx(jn,{onClick:T,variant:"secondary",isLoading:l,children:""})})]})]})]})})},XT=()=>{const[n,e]=K.useState("setup"),[t,o]=K.useState([]),[r,i]=K.useState(!0),[l,a]=K.useState(""),[c,d]=K.useState(""),[f,m]=K.useState([]),[p,h]=K.useState(!1),[E,S]=K.useState(5),[T,y]=K.useState([]),[g,v]=K.useState({}),[C,w]=K.useState(!1),[A,I]=K.useState([]),[x,R]=K.useState(0);K.useEffect(()=>{(async()=>{i(!0);try{const B=await WT();o(B),B.length>0&&a(B[0])}catch(B){console.error("Failed to load subjects",B)}finally{i(!1)}})()},[]),K.useEffect(()=>{if(!l){m([]),d("");return}(async()=>{h(!0),d(""),m([]);try{const B=await KT(l);m(B),B.length>0&&d(B[0])}catch(B){console.error("Failed to load scopes",B)}finally{h(!1)}})()},[l]);const P=async()=>{if(!c.trim()){alert(" / ");return}w(!0);try{const L=await OT(l,c);if(L.length===0){alert("/");return}const B=[...L].sort(()=>.5-Math.random()),q=E===-1?B.length:E,Se=B.slice(0,q);E!==-1&&Se.length<E,y(Se),e("quiz"),v({})}catch{alert("")}finally{w(!1)}},G=(L,B)=>{v(q=>({...q,[L]:B}))},z=async()=>{let L=0;const B=T.map((q,Se)=>{const k=g[Se]||"",U=k===q.correctAnswer;return U&&L++,{questionNumber:q.questionNumber||Se+1,selectedAnswer:k,isCorrect:U,correctAnswer:q.correctAnswer}});I(B),R(L),w(!0);try{await YT({subject:l,scope:c,results:B}),e("result")}catch{alert(""),e("result")}finally{w(!1)}},H=()=>{e("setup"),y([]),v({}),I([]),R(0)};return n==="setup"?_.jsxs("div",{className:"max-w-xl mx-auto bg-white p-8 rounded-xl shadow-md border border-slate-200",children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:""}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),r?_.jsxs("div",{className:"w-full rounded-lg border border-slate-300 p-2.5 bg-slate-100 text-slate-500 flex items-center",children:[_.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-slate-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):t.length>0?_.jsx("select",{value:l,onChange:L=>a(L.target.value),className:"w-full rounded-lg border-slate-300 focus:ring-blue-500 focus:border-blue-500 p-2.5 bg-white text-slate-900",children:t.map(L=>_.jsx("option",{value:L,className:"bg-white text-slate-900",children:L},L))}):_.jsx("div",{className:"text-red-500 text-sm p-2 bg-red-50 rounded border border-red-100",children:""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" / "}),p?_.jsxs("div",{className:"w-full rounded-lg border border-slate-300 p-2.5 bg-slate-100 text-slate-500 flex items-center",children:[_.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-slate-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):f.length>0?_.jsx("select",{value:c,onChange:L=>d(L.target.value),className:"w-full rounded-lg border-slate-300 focus:ring-blue-500 focus:border-blue-500 p-2.5 bg-white text-slate-900",children:f.map(L=>_.jsx("option",{value:L,className:"bg-white text-slate-900",children:L},L))}):_.jsx("div",{className:"text-slate-500 text-sm p-2 bg-slate-50 rounded border border-slate-200",children:l?"":""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),_.jsxs("select",{value:E,onChange:L=>S(Number(L.target.value)),className:"w-full rounded-lg border-slate-300 focus:ring-blue-500 focus:border-blue-500 p-2.5 bg-white text-slate-900",children:[_.jsx("option",{value:5,children:"5 "}),_.jsx("option",{value:10,children:"10 "}),_.jsx("option",{value:20,children:"20 "}),_.jsx("option",{value:50,children:"50 "}),_.jsx("option",{value:100,children:"100 "}),_.jsx("option",{value:-1,children:""})]}),_.jsx("p",{className:"text-xs text-slate-500 mt-1",children:""})]}),_.jsx(jn,{onClick:P,className:"w-full mt-4",isLoading:C,disabled:r||p||t.length===0||f.length===0,children:""})]})]}):n==="quiz"?_.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[l," - ",c]}),_.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded",children:[" ",Object.keys(g).length," / ",T.length," "]})]}),T.map((L,B)=>_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[_.jsxs("h3",{className:"font-semibold text-lg text-slate-900 mb-4",children:[_.jsxs("span",{className:"text-slate-400 mr-2",children:[B+1,"."]}),L.text]}),L.diagramUrl&&_.jsx("div",{className:"mb-6 flex justify-center bg-slate-50 p-4 rounded-lg border border-slate-100",children:_.jsx("img",{src:L.diagramUrl,alt:`Diagram for Question ${L.questionNumber||B+1}`,className:"max-h-64 max-w-full object-contain rounded"})}),_.jsx("div",{className:"space-y-2",children:["A","B","C","D"].map(q=>_.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-colors ${g[B]===q?"bg-blue-50 border-blue-500 ring-1 ring-blue-500":"border-slate-200 hover:bg-slate-50"}`,children:[_.jsx("input",{type:"radio",name:`q-${B}`,value:q,checked:g[B]===q,onChange:()=>G(B,q),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),_.jsxs("span",{className:"ml-3 text-slate-700",children:[_.jsxs("span",{className:"font-bold mr-2",children:[q,"."]}),L[`option${q}`]]})]},q))})]},B)),_.jsx("div",{className:"flex justify-end pt-6",children:_.jsx(jn,{onClick:z,disabled:Object.keys(g).length!==T.length,isLoading:C,children:""})})]}):_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md border border-slate-200 text-center mb-8",children:[_.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),_.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:""}),_.jsxs("p",{className:"text-xl text-slate-600",children:[" ",_.jsx("span",{className:"font-bold text-blue-600",children:x})," / ",_.jsx("span",{className:"font-bold",children:T.length})]})]}),_.jsx("div",{className:"space-y-6",children:T.map((L,B)=>{const q=A[B];return _.jsxs("div",{className:`p-6 rounded-xl border ${q.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h3",{className:"font-semibold text-slate-900",children:L.text}),_.jsx("span",{className:`text-sm font-bold ${q.isCorrect?"text-green-700":"text-red-700"}`,children:q.isCorrect?"":""})]}),L.diagramUrl&&_.jsx("div",{className:"my-3 flex justify-start",children:_.jsx("img",{src:L.diagramUrl,alt:"Question Diagram",className:"max-h-40 max-w-full object-contain rounded border border-slate-300 p-1 bg-white"})}),_.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:[" ",_.jsx("span",{className:"font-medium",children:q.selectedAnswer})]}),!q.isCorrect&&_.jsxs("div",{className:"text-sm text-green-700 font-medium mb-2",children:[" ",L.correctAnswer]}),_.jsxs("div",{className:"mt-4 p-3 bg-white/60 rounded-lg text-sm text-slate-700",children:[_.jsx("span",{className:"font-bold",children:" "}),L.explanation]})]},B)})}),_.jsx("div",{className:"mt-8 flex justify-center",children:_.jsx(jn,{onClick:H,variant:"outline",children:""})})]})},bT=()=>{const[n,e]=K.useState(cn.HOME);K.useEffect(()=>{const r=()=>{const i=window.location.hash.replace("#","");Object.values(cn).includes(i)?e(i):e(cn.HOME)};return r(),window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const t=r=>{window.location.hash=r},o=()=>{switch(n){case cn.UPLOAD:return _.jsx(QT,{});case cn.QUIZ:return _.jsx(XT,{});case cn.HOME:default:return _.jsx(Pg,{onNavigate:r=>t(r)})}};return _.jsx(Ng,{activeTab:n,onNavigate:t,children:o()})},em=document.getElementById("root");if(!em)throw new Error("Could not find root element to mount to");const ZT=bi.createRoot(em);ZT.render(_.jsx(ym.StrictMode,{children:_.jsx(bT,{})}));
